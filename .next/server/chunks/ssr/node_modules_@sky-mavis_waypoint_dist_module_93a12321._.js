module.exports = {

"[project]/node_modules/@sky-mavis/waypoint/dist/module/_polyfill-node.events-BiZUWMRj.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "E": (()=>EventEmitter)
});
var domain;
// This constructor is used to store event handlers. Instantiating this is
// faster than explicitly calling `Object.create(null)` to get a "clean" empty
// object (tested with v8 v4.9).
function EventHandlers() {}
EventHandlers.prototype = Object.create(null);
function EventEmitter() {
    EventEmitter.init.call(this);
}
// nodejs oddity
// require('events') === require('events').EventEmitter
EventEmitter.EventEmitter = EventEmitter;
EventEmitter.usingDomains = false;
EventEmitter.prototype.domain = undefined;
EventEmitter.prototype._events = undefined;
EventEmitter.prototype._maxListeners = undefined;
// By default EventEmitters will print a warning if more than 10 listeners are
// added to it. This is a useful default which helps finding memory leaks.
EventEmitter.defaultMaxListeners = 10;
EventEmitter.init = function() {
    this.domain = null;
    if (EventEmitter.usingDomains) {
        // if there is an active domain, then attach to it.
        if (domain.active) ;
    }
    if (!this._events || this._events === Object.getPrototypeOf(this)._events) {
        this._events = new EventHandlers();
        this._eventsCount = 0;
    }
    this._maxListeners = this._maxListeners || undefined;
};
// Obviously not all Emitters should be limited to 10. This function allows
// that to be increased. Set to zero for unlimited.
EventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {
    if (typeof n !== 'number' || n < 0 || isNaN(n)) throw new TypeError('"n" argument must be a positive number');
    this._maxListeners = n;
    return this;
};
function $getMaxListeners(that) {
    if (that._maxListeners === undefined) return EventEmitter.defaultMaxListeners;
    return that._maxListeners;
}
EventEmitter.prototype.getMaxListeners = function getMaxListeners() {
    return $getMaxListeners(this);
};
// These standalone emit* functions are used to optimize calling of event
// handlers for fast cases because emit() itself often has a variable number of
// arguments and can be deoptimized because of that. These functions always have
// the same number of arguments and thus do not get deoptimized, so the code
// inside them can execute faster.
function emitNone(handler, isFn, self) {
    if (isFn) handler.call(self);
    else {
        var len = handler.length;
        var listeners = arrayClone(handler, len);
        for(var i = 0; i < len; ++i)listeners[i].call(self);
    }
}
function emitOne(handler, isFn, self, arg1) {
    if (isFn) handler.call(self, arg1);
    else {
        var len = handler.length;
        var listeners = arrayClone(handler, len);
        for(var i = 0; i < len; ++i)listeners[i].call(self, arg1);
    }
}
function emitTwo(handler, isFn, self, arg1, arg2) {
    if (isFn) handler.call(self, arg1, arg2);
    else {
        var len = handler.length;
        var listeners = arrayClone(handler, len);
        for(var i = 0; i < len; ++i)listeners[i].call(self, arg1, arg2);
    }
}
function emitThree(handler, isFn, self, arg1, arg2, arg3) {
    if (isFn) handler.call(self, arg1, arg2, arg3);
    else {
        var len = handler.length;
        var listeners = arrayClone(handler, len);
        for(var i = 0; i < len; ++i)listeners[i].call(self, arg1, arg2, arg3);
    }
}
function emitMany(handler, isFn, self, args) {
    if (isFn) handler.apply(self, args);
    else {
        var len = handler.length;
        var listeners = arrayClone(handler, len);
        for(var i = 0; i < len; ++i)listeners[i].apply(self, args);
    }
}
EventEmitter.prototype.emit = function emit(type) {
    var er, handler, len, args, i, events, domain;
    var doError = type === 'error';
    events = this._events;
    if (events) doError = doError && events.error == null;
    else if (!doError) return false;
    domain = this.domain;
    // If there is no 'error' event listener then throw.
    if (doError) {
        er = arguments[1];
        if (domain) {
            if (!er) er = new Error('Uncaught, unspecified "error" event');
            er.domainEmitter = this;
            er.domain = domain;
            er.domainThrown = false;
            domain.emit('error', er);
        } else if (er instanceof Error) {
            throw er; // Unhandled 'error' event
        } else {
            // At least give some kind of context to the user
            var err = new Error('Uncaught, unspecified "error" event. (' + er + ')');
            err.context = er;
            throw err;
        }
        return false;
    }
    handler = events[type];
    if (!handler) return false;
    var isFn = typeof handler === 'function';
    len = arguments.length;
    switch(len){
        // fast cases
        case 1:
            emitNone(handler, isFn, this);
            break;
        case 2:
            emitOne(handler, isFn, this, arguments[1]);
            break;
        case 3:
            emitTwo(handler, isFn, this, arguments[1], arguments[2]);
            break;
        case 4:
            emitThree(handler, isFn, this, arguments[1], arguments[2], arguments[3]);
            break;
        // slower
        default:
            args = new Array(len - 1);
            for(i = 1; i < len; i++)args[i - 1] = arguments[i];
            emitMany(handler, isFn, this, args);
    }
    return true;
};
function _addListener(target, type, listener, prepend) {
    var m;
    var events;
    var existing;
    if (typeof listener !== 'function') throw new TypeError('"listener" argument must be a function');
    events = target._events;
    if (!events) {
        events = target._events = new EventHandlers();
        target._eventsCount = 0;
    } else {
        // To avoid recursion in the case that type === "newListener"! Before
        // adding it to the listeners, first emit "newListener".
        if (events.newListener) {
            target.emit('newListener', type, listener.listener ? listener.listener : listener);
            // Re-assign `events` because a newListener handler could have caused the
            // this._events to be assigned to a new object
            events = target._events;
        }
        existing = events[type];
    }
    if (!existing) {
        // Optimize the case of one listener. Don't need the extra array object.
        existing = events[type] = listener;
        ++target._eventsCount;
    } else {
        if (typeof existing === 'function') {
            // Adding the second element, need to change to array.
            existing = events[type] = prepend ? [
                listener,
                existing
            ] : [
                existing,
                listener
            ];
        } else {
            // If we've already got an array, just append.
            if (prepend) {
                existing.unshift(listener);
            } else {
                existing.push(listener);
            }
        }
        // Check for listener leak
        if (!existing.warned) {
            m = $getMaxListeners(target);
            if (m && m > 0 && existing.length > m) {
                existing.warned = true;
                var w = new Error('Possible EventEmitter memory leak detected. ' + existing.length + ' ' + type + ' listeners added. ' + 'Use emitter.setMaxListeners() to increase limit');
                w.name = 'MaxListenersExceededWarning';
                w.emitter = target;
                w.type = type;
                w.count = existing.length;
                emitWarning(w);
            }
        }
    }
    return target;
}
function emitWarning(e) {
    typeof console.warn === 'function' ? console.warn(e) : console.log(e);
}
EventEmitter.prototype.addListener = function addListener(type, listener) {
    return _addListener(this, type, listener, false);
};
EventEmitter.prototype.on = EventEmitter.prototype.addListener;
EventEmitter.prototype.prependListener = function prependListener(type, listener) {
    return _addListener(this, type, listener, true);
};
function _onceWrap(target, type, listener) {
    var fired = false;
    function g() {
        target.removeListener(type, g);
        if (!fired) {
            fired = true;
            listener.apply(target, arguments);
        }
    }
    g.listener = listener;
    return g;
}
EventEmitter.prototype.once = function once(type, listener) {
    if (typeof listener !== 'function') throw new TypeError('"listener" argument must be a function');
    this.on(type, _onceWrap(this, type, listener));
    return this;
};
EventEmitter.prototype.prependOnceListener = function prependOnceListener(type, listener) {
    if (typeof listener !== 'function') throw new TypeError('"listener" argument must be a function');
    this.prependListener(type, _onceWrap(this, type, listener));
    return this;
};
// emits a 'removeListener' event iff the listener was removed
EventEmitter.prototype.removeListener = function removeListener(type, listener) {
    var list, events, position, i, originalListener;
    if (typeof listener !== 'function') throw new TypeError('"listener" argument must be a function');
    events = this._events;
    if (!events) return this;
    list = events[type];
    if (!list) return this;
    if (list === listener || list.listener && list.listener === listener) {
        if (--this._eventsCount === 0) this._events = new EventHandlers();
        else {
            delete events[type];
            if (events.removeListener) this.emit('removeListener', type, list.listener || listener);
        }
    } else if (typeof list !== 'function') {
        position = -1;
        for(i = list.length; i-- > 0;){
            if (list[i] === listener || list[i].listener && list[i].listener === listener) {
                originalListener = list[i].listener;
                position = i;
                break;
            }
        }
        if (position < 0) return this;
        if (list.length === 1) {
            list[0] = undefined;
            if (--this._eventsCount === 0) {
                this._events = new EventHandlers();
                return this;
            } else {
                delete events[type];
            }
        } else {
            spliceOne(list, position);
        }
        if (events.removeListener) this.emit('removeListener', type, originalListener || listener);
    }
    return this;
};
// Alias for removeListener added in NodeJS 10.0
// https://nodejs.org/api/events.html#events_emitter_off_eventname_listener
EventEmitter.prototype.off = function(type, listener) {
    return this.removeListener(type, listener);
};
EventEmitter.prototype.removeAllListeners = function removeAllListeners(type) {
    var listeners, events;
    events = this._events;
    if (!events) return this;
    // not listening for removeListener, no need to emit
    if (!events.removeListener) {
        if (arguments.length === 0) {
            this._events = new EventHandlers();
            this._eventsCount = 0;
        } else if (events[type]) {
            if (--this._eventsCount === 0) this._events = new EventHandlers();
            else delete events[type];
        }
        return this;
    }
    // emit removeListener for all listeners on all events
    if (arguments.length === 0) {
        var keys = Object.keys(events);
        for(var i = 0, key; i < keys.length; ++i){
            key = keys[i];
            if (key === 'removeListener') continue;
            this.removeAllListeners(key);
        }
        this.removeAllListeners('removeListener');
        this._events = new EventHandlers();
        this._eventsCount = 0;
        return this;
    }
    listeners = events[type];
    if (typeof listeners === 'function') {
        this.removeListener(type, listeners);
    } else if (listeners) {
        // LIFO order
        do {
            this.removeListener(type, listeners[listeners.length - 1]);
        }while (listeners[0])
    }
    return this;
};
EventEmitter.prototype.listeners = function listeners(type) {
    var evlistener;
    var ret;
    var events = this._events;
    if (!events) ret = [];
    else {
        evlistener = events[type];
        if (!evlistener) ret = [];
        else if (typeof evlistener === 'function') ret = [
            evlistener.listener || evlistener
        ];
        else ret = unwrapListeners(evlistener);
    }
    return ret;
};
EventEmitter.listenerCount = function(emitter, type) {
    if (typeof emitter.listenerCount === 'function') {
        return emitter.listenerCount(type);
    } else {
        return listenerCount.call(emitter, type);
    }
};
EventEmitter.prototype.listenerCount = listenerCount;
function listenerCount(type) {
    var events = this._events;
    if (events) {
        var evlistener = events[type];
        if (typeof evlistener === 'function') {
            return 1;
        } else if (evlistener) {
            return evlistener.length;
        }
    }
    return 0;
}
EventEmitter.prototype.eventNames = function eventNames() {
    return this._eventsCount > 0 ? Reflect.ownKeys(this._events) : [];
};
// About 1.5x faster than the two-arg version of Array#splice().
function spliceOne(list, index) {
    for(var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1)list[i] = list[k];
    list.pop();
}
function arrayClone(arr, i) {
    var copy = new Array(i);
    while(i--)copy[i] = arr[i];
    return copy;
}
function unwrapListeners(arr) {
    var ret = new Array(arr.length);
    for(var i = 0; i < ret.length; ++i){
        ret[i] = arr[i].listener || arr[i];
    }
    return ret;
}
;
}}),
"[project]/node_modules/@sky-mavis/waypoint/dist/module/common/chain.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "VIEM_CHAIN_MAPPING": (()=>VIEM_CHAIN_MAPPING)
});
function defineChain(chain) {
    return {
        formatters: undefined,
        fees: undefined,
        serializers: undefined,
        ...chain
    };
}
const goerli = /*#__PURE__*/ defineChain({
    id: 5,
    name: 'Goerli',
    nativeCurrency: {
        name: 'Goerli Ether',
        symbol: 'ETH',
        decimals: 18
    },
    rpcUrls: {
        default: {
            http: [
                'https://rpc.ankr.com/eth_goerli'
            ]
        }
    },
    blockExplorers: {
        default: {
            name: 'Etherscan',
            url: 'https://goerli.etherscan.io',
            apiUrl: 'https://api-goerli.etherscan.io/api'
        }
    },
    contracts: {
        ensRegistry: {
            address: '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e'
        },
        ensUniversalResolver: {
            address: '0xfc4AC75C46C914aF5892d6d3eFFcebD7917293F1',
            blockCreated: 10_339_206
        },
        multicall3: {
            address: '0xca11bde05977b3631167028862be2a173976ca11',
            blockCreated: 6507670
        }
    },
    testnet: true
});
const mainnet = /*#__PURE__*/ defineChain({
    id: 1,
    name: 'Ethereum',
    nativeCurrency: {
        name: 'Ether',
        symbol: 'ETH',
        decimals: 18
    },
    rpcUrls: {
        default: {
            http: [
                'https://cloudflare-eth.com'
            ]
        }
    },
    blockExplorers: {
        default: {
            name: 'Etherscan',
            url: 'https://etherscan.io',
            apiUrl: 'https://api.etherscan.io/api'
        }
    },
    contracts: {
        ensRegistry: {
            address: '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e'
        },
        ensUniversalResolver: {
            address: '0xce01f8eee7E479C928F8919abD53E553a36CeF67',
            blockCreated: 19_258_213
        },
        multicall3: {
            address: '0xca11bde05977b3631167028862be2a173976ca11',
            blockCreated: 14_353_601
        }
    }
});
const ronin = /*#__PURE__*/ defineChain({
    id: 2020,
    name: 'Ronin',
    nativeCurrency: {
        name: 'RON',
        symbol: 'RON',
        decimals: 18
    },
    rpcUrls: {
        default: {
            http: [
                'https://api.roninchain.com/rpc'
            ]
        }
    },
    blockExplorers: {
        default: {
            name: 'Ronin Explorer',
            url: 'https://app.roninchain.com'
        }
    },
    contracts: {
        multicall3: {
            address: '0xca11bde05977b3631167028862be2a173976ca11',
            blockCreated: 26023535
        }
    }
});
const saigon = /*#__PURE__*/ defineChain({
    id: 2021,
    name: 'Saigon Testnet',
    nativeCurrency: {
        name: 'RON',
        symbol: 'RON',
        decimals: 18
    },
    rpcUrls: {
        default: {
            http: [
                'https://saigon-testnet.roninchain.com/rpc'
            ]
        }
    },
    blockExplorers: {
        default: {
            name: 'Saigon Explorer',
            url: 'https://saigon-app.roninchain.com'
        }
    },
    contracts: {
        multicall3: {
            address: '0xca11bde05977b3631167028862be2a173976ca11',
            blockCreated: 18736871
        }
    },
    testnet: true
});
const sepolia = /*#__PURE__*/ defineChain({
    id: 11_155_111,
    name: 'Sepolia',
    nativeCurrency: {
        name: 'Sepolia Ether',
        symbol: 'ETH',
        decimals: 18
    },
    rpcUrls: {
        default: {
            http: [
                'https://rpc2.sepolia.org'
            ]
        }
    },
    blockExplorers: {
        default: {
            name: 'Etherscan',
            url: 'https://sepolia.etherscan.io',
            apiUrl: 'https://api-sepolia.etherscan.io/api'
        }
    },
    contracts: {
        multicall3: {
            address: '0xca11bde05977b3631167028862be2a173976ca11',
            blockCreated: 751532
        },
        ensRegistry: {
            address: '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e'
        },
        ensUniversalResolver: {
            address: '0xc8Af999e38273D658BE1b921b88A9Ddf005769cC',
            blockCreated: 5_317_080
        }
    },
    testnet: true
});
const VIEM_CHAIN_MAPPING = {
    [ronin.id]: ronin,
    [saigon.id]: saigon,
    [mainnet.id]: mainnet,
    [goerli.id]: goerli,
    [sepolia.id]: sepolia
};
;
}}),
"[project]/node_modules/@sky-mavis/waypoint/dist/module/common/defer.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
// eslint-disable-next-line @typescript-eslint/no-explicit-any
__turbopack_context__.s({
    "Deferred": (()=>Deferred)
});
class Deferred {
    promise;
    _state = "unresolved";
    _resolve;
    _reject;
    constructor(){
        this.promise = new Promise((resolve, reject)=>{
            this._resolve = resolve;
            this._reject = reject;
        });
    }
    get state() {
        return this._state;
    }
    resolve = (value)=>{
        if (this._state === "unresolved") {
            this._state = "resolved";
            this._resolve(value);
        }
    };
    reject = (error)=>{
        if (this._state === "unresolved") {
            this._state = "rejected";
            this._reject(error);
        }
    };
}
;
}}),
"[project]/node_modules/@sky-mavis/waypoint/dist/module/base-CC-Hj7CW.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "B": (()=>BaseError)
});
const version = '2.21.22';
let errorConfig = {
    getDocsUrl: ({ docsBaseUrl, docsPath = '', docsSlug })=>docsPath ? `${docsBaseUrl ?? 'https://viem.sh'}${docsPath}${docsSlug ? `#${docsSlug}` : ''}` : undefined,
    version
};
class BaseError extends Error {
    constructor(shortMessage, args = {}){
        const details = (()=>{
            if (args.cause instanceof BaseError) return args.cause.details;
            if (args.cause?.message) return args.cause.message;
            return args.details;
        })();
        const docsPath = (()=>{
            if (args.cause instanceof BaseError) return args.cause.docsPath || args.docsPath;
            return args.docsPath;
        })();
        const docsUrl = errorConfig.getDocsUrl?.({
            ...args,
            docsPath
        });
        const message = [
            shortMessage || 'An error occurred.',
            '',
            ...args.metaMessages ? [
                ...args.metaMessages,
                ''
            ] : [],
            ...docsUrl ? [
                `Docs: ${docsUrl}`
            ] : [],
            ...details ? [
                `Details: ${details}`
            ] : [],
            ...[
                `Version: ${errorConfig.version}`
            ]
        ].join('\n');
        super(message, args.cause ? {
            cause: args.cause
        } : undefined);
        Object.defineProperty(this, "details", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        Object.defineProperty(this, "docsPath", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        Object.defineProperty(this, "metaMessages", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        Object.defineProperty(this, "shortMessage", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        Object.defineProperty(this, "version", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        Object.defineProperty(this, "name", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: 'BaseError'
        });
        this.details = details;
        this.docsPath = docsPath;
        this.metaMessages = args.metaMessages;
        this.name = args.name ?? this.name;
        this.shortMessage = shortMessage;
        this.version = version;
    }
    walk(fn) {
        return walk(this, fn);
    }
}
function walk(err, fn) {
    if (fn?.(err)) return err;
    if (err && typeof err === 'object' && 'cause' in err) return walk(err.cause, fn);
    return fn ? null : err;
}
;
}}),
"[project]/node_modules/@sky-mavis/waypoint/dist/module/rpc-BGk0htDU.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "C": (()=>ChainDisconnectedError),
    "H": (()=>HttpRequestError),
    "I": (()=>InvalidParamsRpcError),
    "J": (()=>JsonRpcVersionUnsupportedError),
    "L": (()=>LimitExceededRpcError),
    "M": (()=>MethodNotSupportedRpcError),
    "P": (()=>ProviderDisconnectedError),
    "R": (()=>ResourceUnavailableRpcError),
    "S": (()=>SwitchChainError),
    "T": (()=>TransactionRejectedRpcError),
    "U": (()=>UnauthorizedProviderError),
    "a": (()=>InternalRpcError),
    "b": (()=>UserRejectedRequestError),
    "c": (()=>UnknownRpcError),
    "d": (()=>UnsupportedProviderMethodError),
    "e": (()=>ResourceNotFoundRpcError),
    "f": (()=>InvalidInputRpcError),
    "g": (()=>MethodNotFoundRpcError),
    "h": (()=>InvalidRequestRpcError),
    "i": (()=>ParseRpcError),
    "j": (()=>TimeoutError),
    "k": (()=>RpcRequestError),
    "s": (()=>stringify)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$base$2d$CC$2d$Hj7CW$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/base-CC-Hj7CW.js [app-ssr] (ecmascript)");
;
const stringify = (value, replacer, space)=>JSON.stringify(value, (key, value_)=>{
        const value = typeof value_ === 'bigint' ? value_.toString() : value_;
        return typeof replacer === 'function' ? replacer(key, value) : value;
    }, space);
const getUrl = (url)=>url;
class HttpRequestError extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$base$2d$CC$2d$Hj7CW$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["B"] {
    constructor({ body, cause, details, headers, status, url }){
        super('HTTP request failed.', {
            cause,
            details,
            metaMessages: [
                status && `Status: ${status}`,
                `URL: ${getUrl(url)}`,
                body && `Request body: ${stringify(body)}`
            ].filter(Boolean),
            name: 'HttpRequestError'
        });
        Object.defineProperty(this, "body", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        Object.defineProperty(this, "headers", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        Object.defineProperty(this, "status", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        Object.defineProperty(this, "url", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        this.body = body;
        this.headers = headers;
        this.status = status;
        this.url = url;
    }
}
class RpcRequestError extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$base$2d$CC$2d$Hj7CW$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["B"] {
    constructor({ body, error, url }){
        super('RPC Request failed.', {
            cause: error,
            details: error.message,
            metaMessages: [
                `URL: ${getUrl(url)}`,
                `Request body: ${stringify(body)}`
            ],
            name: 'RpcRequestError'
        });
        Object.defineProperty(this, "code", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        this.code = error.code;
    }
}
class TimeoutError extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$base$2d$CC$2d$Hj7CW$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["B"] {
    constructor({ body, url }){
        super('The request took too long to respond.', {
            details: 'The request timed out.',
            metaMessages: [
                `URL: ${getUrl(url)}`,
                `Request body: ${stringify(body)}`
            ],
            name: 'TimeoutError'
        });
    }
}
const unknownErrorCode = -1;
class RpcError extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$base$2d$CC$2d$Hj7CW$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["B"] {
    constructor(cause, { code, docsPath, metaMessages, name, shortMessage }){
        super(shortMessage, {
            cause,
            docsPath,
            metaMessages: metaMessages || cause?.metaMessages,
            name: name || 'RpcError'
        });
        Object.defineProperty(this, "code", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        this.name = name || cause.name;
        this.code = cause instanceof RpcRequestError ? cause.code : code ?? unknownErrorCode;
    }
}
class ProviderRpcError extends RpcError {
    constructor(cause, options){
        super(cause, options);
        Object.defineProperty(this, "data", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        this.data = options.data;
    }
}
class ParseRpcError extends RpcError {
    constructor(cause){
        super(cause, {
            code: ParseRpcError.code,
            name: 'ParseRpcError',
            shortMessage: 'Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.'
        });
    }
}
Object.defineProperty(ParseRpcError, "code", {
    enumerable: true,
    configurable: true,
    writable: true,
    value: -32700
});
class InvalidRequestRpcError extends RpcError {
    constructor(cause){
        super(cause, {
            code: InvalidRequestRpcError.code,
            name: 'InvalidRequestRpcError',
            shortMessage: 'JSON is not a valid request object.'
        });
    }
}
Object.defineProperty(InvalidRequestRpcError, "code", {
    enumerable: true,
    configurable: true,
    writable: true,
    value: -32600
});
class MethodNotFoundRpcError extends RpcError {
    constructor(cause, { method } = {}){
        super(cause, {
            code: MethodNotFoundRpcError.code,
            name: 'MethodNotFoundRpcError',
            shortMessage: `The method${method ? ` "${method}"` : ''} does not exist / is not available.`
        });
    }
}
Object.defineProperty(MethodNotFoundRpcError, "code", {
    enumerable: true,
    configurable: true,
    writable: true,
    value: -32601
});
class InvalidParamsRpcError extends RpcError {
    constructor(cause){
        super(cause, {
            code: InvalidParamsRpcError.code,
            name: 'InvalidParamsRpcError',
            shortMessage: [
                'Invalid parameters were provided to the RPC method.',
                'Double check you have provided the correct parameters.'
            ].join('\n')
        });
    }
}
Object.defineProperty(InvalidParamsRpcError, "code", {
    enumerable: true,
    configurable: true,
    writable: true,
    value: -32602
});
class InternalRpcError extends RpcError {
    constructor(cause){
        super(cause, {
            code: InternalRpcError.code,
            name: 'InternalRpcError',
            shortMessage: 'An internal error was received.'
        });
    }
}
Object.defineProperty(InternalRpcError, "code", {
    enumerable: true,
    configurable: true,
    writable: true,
    value: -32603
});
class InvalidInputRpcError extends RpcError {
    constructor(cause){
        super(cause, {
            code: InvalidInputRpcError.code,
            name: 'InvalidInputRpcError',
            shortMessage: [
                'Missing or invalid parameters.',
                'Double check you have provided the correct parameters.'
            ].join('\n')
        });
    }
}
Object.defineProperty(InvalidInputRpcError, "code", {
    enumerable: true,
    configurable: true,
    writable: true,
    value: -32000
});
class ResourceNotFoundRpcError extends RpcError {
    constructor(cause){
        super(cause, {
            code: ResourceNotFoundRpcError.code,
            name: 'ResourceNotFoundRpcError',
            shortMessage: 'Requested resource not found.'
        });
        Object.defineProperty(this, "name", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: 'ResourceNotFoundRpcError'
        });
    }
}
Object.defineProperty(ResourceNotFoundRpcError, "code", {
    enumerable: true,
    configurable: true,
    writable: true,
    value: -32001
});
class ResourceUnavailableRpcError extends RpcError {
    constructor(cause){
        super(cause, {
            code: ResourceUnavailableRpcError.code,
            name: 'ResourceUnavailableRpcError',
            shortMessage: 'Requested resource not available.'
        });
    }
}
Object.defineProperty(ResourceUnavailableRpcError, "code", {
    enumerable: true,
    configurable: true,
    writable: true,
    value: -32002
});
class TransactionRejectedRpcError extends RpcError {
    constructor(cause){
        super(cause, {
            code: TransactionRejectedRpcError.code,
            name: 'TransactionRejectedRpcError',
            shortMessage: 'Transaction creation failed.'
        });
    }
}
Object.defineProperty(TransactionRejectedRpcError, "code", {
    enumerable: true,
    configurable: true,
    writable: true,
    value: -32003
});
class MethodNotSupportedRpcError extends RpcError {
    constructor(cause, { method } = {}){
        super(cause, {
            code: MethodNotSupportedRpcError.code,
            name: 'MethodNotSupportedRpcError',
            shortMessage: `Method${method ? ` "${method}"` : ''} is not implemented.`
        });
    }
}
Object.defineProperty(MethodNotSupportedRpcError, "code", {
    enumerable: true,
    configurable: true,
    writable: true,
    value: -32004
});
class LimitExceededRpcError extends RpcError {
    constructor(cause){
        super(cause, {
            code: LimitExceededRpcError.code,
            name: 'LimitExceededRpcError',
            shortMessage: 'Request exceeds defined limit.'
        });
    }
}
Object.defineProperty(LimitExceededRpcError, "code", {
    enumerable: true,
    configurable: true,
    writable: true,
    value: -32005
});
class JsonRpcVersionUnsupportedError extends RpcError {
    constructor(cause){
        super(cause, {
            code: JsonRpcVersionUnsupportedError.code,
            name: 'JsonRpcVersionUnsupportedError',
            shortMessage: 'Version of JSON-RPC protocol is not supported.'
        });
    }
}
Object.defineProperty(JsonRpcVersionUnsupportedError, "code", {
    enumerable: true,
    configurable: true,
    writable: true,
    value: -32006
});
class UserRejectedRequestError extends ProviderRpcError {
    constructor(cause){
        super(cause, {
            code: UserRejectedRequestError.code,
            name: 'UserRejectedRequestError',
            shortMessage: 'User rejected the request.'
        });
    }
}
Object.defineProperty(UserRejectedRequestError, "code", {
    enumerable: true,
    configurable: true,
    writable: true,
    value: 4001
});
class UnauthorizedProviderError extends ProviderRpcError {
    constructor(cause){
        super(cause, {
            code: UnauthorizedProviderError.code,
            name: 'UnauthorizedProviderError',
            shortMessage: 'The requested method and/or account has not been authorized by the user.'
        });
    }
}
Object.defineProperty(UnauthorizedProviderError, "code", {
    enumerable: true,
    configurable: true,
    writable: true,
    value: 4100
});
class UnsupportedProviderMethodError extends ProviderRpcError {
    constructor(cause, { method } = {}){
        super(cause, {
            code: UnsupportedProviderMethodError.code,
            name: 'UnsupportedProviderMethodError',
            shortMessage: `The Provider does not support the requested method${method ? ` " ${method}"` : ''}.`
        });
    }
}
Object.defineProperty(UnsupportedProviderMethodError, "code", {
    enumerable: true,
    configurable: true,
    writable: true,
    value: 4200
});
class ProviderDisconnectedError extends ProviderRpcError {
    constructor(cause){
        super(cause, {
            code: ProviderDisconnectedError.code,
            name: 'ProviderDisconnectedError',
            shortMessage: 'The Provider is disconnected from all chains.'
        });
    }
}
Object.defineProperty(ProviderDisconnectedError, "code", {
    enumerable: true,
    configurable: true,
    writable: true,
    value: 4900
});
class ChainDisconnectedError extends ProviderRpcError {
    constructor(cause){
        super(cause, {
            code: ChainDisconnectedError.code,
            name: 'ChainDisconnectedError',
            shortMessage: 'The Provider is not connected to the requested chain.'
        });
    }
}
Object.defineProperty(ChainDisconnectedError, "code", {
    enumerable: true,
    configurable: true,
    writable: true,
    value: 4901
});
class SwitchChainError extends ProviderRpcError {
    constructor(cause){
        super(cause, {
            code: SwitchChainError.code,
            name: 'SwitchChainError',
            shortMessage: 'An error occurred when attempting to switch chain.'
        });
    }
}
Object.defineProperty(SwitchChainError, "code", {
    enumerable: true,
    configurable: true,
    writable: true,
    value: 4902
});
class UnknownRpcError extends RpcError {
    constructor(cause){
        super(cause, {
            name: 'UnknownRpcError',
            shortMessage: 'An unknown RPC error occurred.'
        });
    }
}
;
}}),
"[project]/node_modules/@sky-mavis/waypoint/dist/module/common/waypoint-error.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "WaypointErrorMap": (()=>WaypointErrorMap),
    "normalizeWaypointError": (()=>normalizeWaypointError)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/rpc-BGk0htDU.js [app-ssr] (ecmascript)");
;
;
/**
 * Dictionary Errors:
 * - User Error: 1xxx
 * - Logic Error: 2xxx
 * - Server Error: 3xxx
 * - Chain Error: 4xxx
 */ const WaypointErrorMap = Object.freeze({
    /* 1xxx */ WALLET_USER_CANCEL: {
        code: 1000,
        message: "User rejected"
    },
    WALLET_SIGN_NO_PARAMS: {
        code: 1001,
        message: "Missing message or typedData"
    },
    WALLET_INVALID_PAYLOAD: {
        code: 1003,
        message: "Invalid payload"
    },
    AUTHORIZE_INVALID_PAYLOAD: {
        code: 1004,
        message: "Invalid payload"
    },
    /* 2xxx */ WALLET_UNKNOWN_ERR: {
        code: 2000,
        message: "Unknown error"
    },
    WALLET_NO_ADDRESS_ERR: {
        code: 2001,
        message: "Can't get user address"
    },
    /* 3xxx */ WALLET_CANT_CREATE: {
        code: 3000,
        message: "Can't create the wallet"
    },
    /* 4xxx */ WALLET_CANT_SIMULATE: {
        code: 4000,
        message: "Can't simulate contract request"
    }
});
const normalizeWaypointError = (idErr)=>{
    switch(idErr.code){
        case WaypointErrorMap.WALLET_USER_CANCEL.code:
            {
                const err = new Error("user reject action on Ronin Waypoint");
                return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["b"](err);
            }
        case WaypointErrorMap.WALLET_SIGN_NO_PARAMS.code:
            {
                const err = new Error("sign data is NOT valid");
                return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["I"](err);
            }
        case WaypointErrorMap.WALLET_INVALID_PAYLOAD.code:
            {
                const err = new Error("wallet payload is NOT valid");
                return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["I"](err);
            }
        case WaypointErrorMap.AUTHORIZE_INVALID_PAYLOAD.code:
            {
                const err = new Error("authorize payload is NOT valid");
                return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["I"](err);
            }
        case WaypointErrorMap.WALLET_NO_ADDRESS_ERR.code:
            {
                const err = new Error("id wallet is NOT define");
                return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["U"](err);
            }
        case WaypointErrorMap.WALLET_CANT_CREATE.code:
            {
                const err = new Error("could NOT create wallet");
                return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["U"](err);
            }
        case WaypointErrorMap.WALLET_CANT_SIMULATE.code:
            {
                const err = new Error("transaction simulate fail");
                return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["T"](err);
            }
        default:
            {
                const err = new Error("unknown Ronin Waypoint error");
                return new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["a"](err);
            }
    }
};
;
}}),
"[project]/node_modules/@sky-mavis/waypoint/dist/module/v4-CU-e4i5S.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "v": (()=>v4)
});
const byteToHex = [];
for(let i = 0; i < 256; ++i){
    byteToHex.push((i + 0x100).toString(16).slice(1));
}
function unsafeStringify(arr, offset = 0) {
    return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();
}
let getRandomValues;
const rnds8 = new Uint8Array(16);
function rng() {
    if (!getRandomValues) {
        if (typeof crypto === 'undefined' || !crypto.getRandomValues) {
            throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');
        }
        getRandomValues = crypto.getRandomValues.bind(crypto);
    }
    return getRandomValues(rnds8);
}
const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);
var native = {
    randomUUID
};
function v4(options, buf, offset) {
    if (native.randomUUID && !buf && !options) {
        return native.randomUUID();
    }
    options = options || {};
    const rnds = options.random ?? options.rng?.() ?? rng();
    if (rnds.length < 16) {
        throw new Error('Random bytes length must be >= 16');
    }
    rnds[6] = rnds[6] & 0x0f | 0x40;
    rnds[8] = rnds[8] & 0x3f | 0x80;
    if (buf) {
        offset = offset || 0;
        if (offset < 0 || offset + 16 > buf.length) {
            throw new RangeError(`UUID byte range ${offset}:${offset + 15} is out of buffer bounds`);
        }
        for(let i = 0; i < 16; ++i){
            buf[offset + i] = rnds[i];
        }
        return buf;
    }
    return unsafeStringify(rnds);
}
;
}}),
"[project]/node_modules/@sky-mavis/waypoint/dist/module/common/communicate.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "CommunicateHelper": (()=>CommunicateHelper)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$defer$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/common/defer.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$waypoint$2d$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/common/waypoint-error.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$v4$2d$CU$2d$e4i5S$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/v4-CU-e4i5S.js [app-ssr] (ecmascript)");
;
;
;
;
;
const DELAY_INTERVAL = 1_000;
class CommunicateHelper {
    pendingEvents = new Map();
    windowMonitorIntervals = new Map();
    origin;
    eventHandler;
    constructor(origin){
        if (typeof window === "undefined") {
            // eslint-disable-next-line no-console
            console.warn("CommunicateHelper can only be used in browser environment");
            return;
        }
        this.origin = origin;
        this.eventHandler = this.createEventHandler();
        this.initializeEventListeners();
    }
    createEventHandler() {
        return (event)=>{
            if (event.origin !== this.origin) return;
            const callbackMessage = event.data;
            if (!this.isValidCallbackMessage(callbackMessage)) return;
            this.handleResponse(callbackMessage);
        };
    }
    isValidCallbackMessage(message) {
        return typeof message === "object" && message !== null && "state" in message && "type" in message;
    }
    initializeEventListeners() {
        window.addEventListener("message", this.eventHandler);
        window.addEventListener("beforeunload", ()=>{
            this.cleanup();
        });
    }
    handleResponse(message) {
        const { state: requestId, type } = message;
        const deferredPromise = this.pendingEvents.get(requestId);
        const monitorInterval = this.windowMonitorIntervals.get(requestId);
        if (!deferredPromise || !(typeof deferredPromise !== "function")) return;
        if (monitorInterval) {
            this.windowMonitorIntervals.delete(requestId);
            clearInterval(monitorInterval);
        }
        this.pendingEvents.delete(requestId);
        switch(type){
            case "fail":
                {
                    const err = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$waypoint$2d$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["normalizeWaypointError"])(message.error);
                    return deferredPromise.reject(err);
                }
            default:
                {
                    const objectOrStringData = this.parseSuccessResponse(message.data);
                    return deferredPromise.resolve(objectOrStringData);
                }
        }
    }
    parseSuccessResponse(data) {
        try {
            return typeof data === "string" ? JSON.parse(data) : data;
        } catch  {
            return data;
        }
    }
    monitorWindowClosing(params) {
        const { requestId, window: targetWindow } = params;
        const monitorInterval = setInterval(()=>{
            if (targetWindow?.closed && this.hasPendingRequest(requestId)) {
                this.handleResponse({
                    state: requestId,
                    type: "fail",
                    error: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$waypoint$2d$error$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["WaypointErrorMap"].WALLET_USER_CANCEL
                });
            }
        }, DELAY_INTERVAL);
        this.windowMonitorIntervals.set(requestId, monitorInterval);
    }
    hasPendingRequest(requestId) {
        return this.pendingEvents.has(requestId) && this.windowMonitorIntervals.has(requestId);
    }
    async sendRequest(action) {
        const id = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$v4$2d$CU$2d$e4i5S$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["v"])();
        const responseHandler = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$defer$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Deferred"]();
        this.pendingEvents.set(id, responseHandler);
        const referencedWindow = await action(id);
        if (referencedWindow) {
            this.monitorWindowClosing({
                window: referencedWindow,
                requestId: id
            });
        }
        return responseHandler.promise;
    }
    cleanup() {
        window.removeEventListener("message", this.eventHandler);
        this.windowMonitorIntervals.forEach((interval)=>clearInterval(interval));
        this.windowMonitorIntervals.clear();
        this.pendingEvents.clear();
    }
}
;
}}),
"[project]/node_modules/@sky-mavis/waypoint/dist/module/common/eip1193.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "Eip1193EventName": (()=>Eip1193EventName)
});
var Eip1193EventName;
(function(Eip1193EventName) {
    Eip1193EventName["accountsChanged"] = "accountsChanged";
    Eip1193EventName["chainChanged"] = "chainChanged";
    Eip1193EventName["connect"] = "connect";
    Eip1193EventName["disconnect"] = "disconnect";
    Eip1193EventName["message"] = "message";
})(Eip1193EventName || (Eip1193EventName = {}));
;
}}),
"[project]/node_modules/@sky-mavis/waypoint/dist/module/common/gate.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "RONIN_WAYPOINT_ORIGIN_PROD": (()=>RONIN_WAYPOINT_ORIGIN_PROD)
});
const RONIN_WAYPOINT_ORIGIN_PROD = "https://waypoint.roninchain.com";
;
}}),
"[project]/node_modules/@sky-mavis/waypoint/dist/module/common/Snackbar.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "Snackbar": (()=>Snackbar)
});
class Snackbar {
    static instance = null;
    currentItem = null;
    container = null;
    static ICONS = {
        info: "M128 24a104 104 0 1 0 104 104A104.11 104.11 0 0 0 128 24Zm-4 48a12 12 0 1 1-12 12 12 12 0 0 1 12-12Zm12 112a16 16 0 0 1-16-16v-40a8 8 0 0 1 0-16 16 16 0 0 1 16 16v40a8 8 0 0 1 0 16Z",
        close: "M205.66 194.34a8 8 0 0 1-11.32 11.32L128 139.31l-66.34 66.35a8 8 0 0 1-11.32-11.32L116.69 128 50.34 61.66a8 8 0 0 1 11.32-11.32L128 116.69l66.34-66.35a8 8 0 0 1 11.32 11.32L139.31 128Z"
    };
    static STYLES = {
        reset: {
            margin: "0",
            padding: "0",
            border: "0",
            fontSize: "100%",
            font: "inherit",
            verticalAlign: "baseline",
            outline: "none",
            background: "transparent",
            color: "inherit",
            textDecoration: "none",
            textTransform: "none",
            width: "auto",
            height: "auto",
            lineHeight: "normal",
            boxSizing: "border-box",
            appearance: "none",
            userSelect: "none",
            fontFamily: "inherit",
            fontWeight: "normal",
            fontStyle: "normal",
            textAlign: "left",
            whiteSpace: "normal",
            wordWrap: "normal",
            letterSpacing: "normal",
            textShadow: "none",
            boxShadow: "none",
            borderRadius: "0",
            transform: "none",
            transition: "none",
            animation: "none",
            opacity: "1",
            visibility: "visible",
            overflow: "visible",
            display: "block",
            position: "static",
            top: "auto",
            right: "auto",
            bottom: "auto",
            left: "auto",
            zIndex: "auto",
            float: "none",
            clear: "none"
        },
        container: {
            position: "fixed",
            bottom: "16px",
            left: "0px",
            width: "100%",
            display: "flex",
            justifyContent: "center",
            zIndex: "2147483647",
            pointerEvents: "none"
        },
        snackbar: {
            margin: "0 16px",
            padding: "16px",
            borderRadius: "8px",
            backgroundColor: "#1C1F26",
            color: "#F1F3F9",
            display: "flex",
            alignItems: "flex-start",
            boxShadow: "0 4px 12px rgba(0, 0, 0, 0.3)",
            fontSize: "14px",
            fontFamily: "inherit",
            fontWeight: "400",
            lineHeight: "1.4",
            textAlign: "left",
            pointerEvents: "auto",
            width: "fit-content",
            boxSizing: "border-box"
        },
        textSection: {
            display: "flex",
            flexDirection: "column",
            gap: "4px",
            marginRight: "16px",
            flex: "1"
        },
        actionSection: {
            display: "flex",
            alignItems: "center",
            alignSelf: "center",
            gap: "8px",
            flexShrink: "0"
        },
        title: {
            color: "#F1F3F9",
            fontSize: "16px",
            fontWeight: "500",
            lineHeight: "1.25",
            margin: "0",
            padding: "0",
            display: "block"
        },
        message: {
            color: "#CDD5E5BF",
            fontSize: "14px",
            fontWeight: "400",
            lineHeight: "1.43",
            margin: "0",
            padding: "0",
            display: "block"
        },
        actionButton: {
            background: "#CDD5E512",
            border: "1px solid transparent",
            cursor: "pointer",
            fontSize: "14px",
            fontWeight: "500",
            padding: "6px 14px",
            borderRadius: "32px",
            color: "#F1F3F9",
            fontFamily: "inherit",
            lineHeight: "1.4",
            textAlign: "center",
            textDecoration: "none",
            display: "inline-flex",
            alignItems: "center",
            justifyContent: "center",
            minHeight: "32px",
            boxSizing: "border-box",
            outline: "none",
            userSelect: "none",
            transition: "background-color 0.2s ease"
        },
        closeButton: {
            background: "transparent",
            border: "none",
            cursor: "pointer",
            display: "flex",
            alignItems: "center",
            justifyContent: "center",
            width: "30px",
            height: "30px",
            borderRadius: "50%",
            padding: "0",
            margin: "0",
            outline: "none",
            userSelect: "none",
            flexShrink: "0",
            transition: "background-color 0.2s ease"
        },
        svg: {
            display: "block",
            flexShrink: "0",
            pointerEvents: "none",
            userSelect: "none"
        }
    };
    constructor(){}
    static getInstance() {
        if (!Snackbar.instance) {
            Snackbar.instance = new Snackbar();
            const root = typeof window !== "undefined" ? document.createElement("div") : null;
            if (root) {
                document.body.appendChild(root);
                Snackbar.instance.attach(root);
            }
        }
        return Snackbar.instance;
    }
    attach(parentElement) {
        if (this.container) return;
        this.container = this.createContainer();
        parentElement.appendChild(this.container);
    }
    show(props) {
        this.hide();
        this.currentItem = props;
        this.render();
    }
    hide() {
        this.clearContent();
        this.currentItem = null;
    }
    destroy() {
        this.hide();
        this.container?.remove();
        this.container = null;
        Snackbar.instance = null;
    }
    createContainer() {
        const element = document.createElement("div");
        this.applyStyles(element, [
            Snackbar.STYLES.reset,
            Snackbar.STYLES.container
        ]);
        return element;
    }
    render() {
        if (!this.container || !this.currentItem) return;
        const snackbar = this.createSnackbarElement();
        this.container.appendChild(snackbar);
    }
    createSnackbarElement() {
        const snackbar = document.createElement("div");
        this.applyStyles(snackbar, [
            Snackbar.STYLES.reset,
            Snackbar.STYLES.snackbar
        ]);
        const fragments = [
            this.createIcon(),
            this.createTextSection(),
            this.createActionSection()
        ];
        fragments.forEach((fragment)=>snackbar.appendChild(fragment));
        return snackbar;
    }
    createIcon() {
        return this.createSVGIcon("info", "20", "20", {
            fill: "#F1F3F9",
            marginRight: "8px",
            flexShrink: "0"
        });
    }
    createTextSection() {
        const textSection = document.createElement("div");
        this.applyStyles(textSection, [
            Snackbar.STYLES.reset,
            Snackbar.STYLES.textSection
        ]);
        if (this.currentItem) {
            const titleElement = this.createTextElement("div", this.currentItem.title, Snackbar.STYLES.title);
            const messageElement = this.createTextElement("div", this.currentItem.message, Snackbar.STYLES.message);
            textSection.appendChild(titleElement);
            textSection.appendChild(messageElement);
        }
        return textSection;
    }
    createActionSection() {
        const actionSection = document.createElement("div");
        this.applyStyles(actionSection, [
            Snackbar.STYLES.reset,
            Snackbar.STYLES.actionSection
        ]);
        if (this.currentItem?.action) {
            actionSection.appendChild(this.createActionButton());
        }
        actionSection.appendChild(this.createCloseButton());
        return actionSection;
    }
    createTextElement(tag, text, styles) {
        const element = document.createElement(tag);
        element.textContent = text;
        this.applyStyles(element, [
            Snackbar.STYLES.reset,
            styles
        ]);
        return element;
    }
    createActionButton() {
        if (!this.currentItem?.action) {
            throw new Error("Action is required to create action button");
        }
        const { label, onClick } = this.currentItem.action;
        const button = document.createElement("button");
        button.textContent = label;
        button.type = "button";
        this.applyStyles(button, [
            Snackbar.STYLES.reset,
            Snackbar.STYLES.actionButton
        ]);
        this.attachButtonHoverEffects(button, {
            hover: "#CDD5E520",
            default: "#CDD5E512"
        });
        button.addEventListener("click", ()=>{
            onClick();
            this.hide();
        });
        return button;
    }
    createCloseButton() {
        const svg = this.createSVGIcon("close", "20", "20", {
            fill: "#F1F3F9"
        });
        const button = document.createElement("button");
        button.appendChild(svg);
        button.setAttribute("aria-label", "Close");
        button.type = "button";
        this.applyStyles(button, [
            Snackbar.STYLES.reset,
            Snackbar.STYLES.closeButton
        ]);
        this.attachButtonHoverEffects(button, {
            hover: "rgba(255, 255, 255, 0.1)",
            default: "transparent"
        });
        button.addEventListener("click", ()=>{
            this.currentItem?.onClose?.();
            this.hide();
        });
        return button;
    }
    createSVGIcon(iconType, width, height, additionalStyles = {}) {
        const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
        const attributes = {
            viewBox: "0 0 256 256",
            width,
            height,
            role: "img",
            "aria-hidden": "true"
        };
        Object.entries(attributes).forEach(([key, value])=>{
            svg.setAttribute(key, value);
        });
        this.applyStyles(svg, [
            Snackbar.STYLES.reset,
            Snackbar.STYLES.svg,
            additionalStyles
        ]);
        const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
        path.setAttribute("d", Snackbar.ICONS[iconType]);
        svg.appendChild(path);
        return svg;
    }
    attachButtonHoverEffects(button, colors) {
        button.addEventListener("mouseenter", ()=>{
            button.style.backgroundColor = colors.hover;
        });
        button.addEventListener("mouseleave", ()=>{
            button.style.backgroundColor = colors.default;
        });
    }
    applyStyles(element, stylesList) {
        stylesList.forEach((styles)=>{
            Object.assign(element.style, styles);
        });
    }
    clearContent() {
        if (this.container) {
            this.container.innerHTML = "";
        }
    }
}
;
}}),
"[project]/node_modules/@sky-mavis/waypoint/dist/module/common/popup.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "HASHED_PARAMS": (()=>HASHED_PARAMS),
    "buildUrlWithQuery": (()=>buildUrlWithQuery),
    "openPopup": (()=>openPopup),
    "replaceUrl": (()=>replaceUrl)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$Snackbar$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/common/Snackbar.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/rpc-BGk0htDU.js [app-ssr] (ecmascript)");
;
;
;
const DEFAULT_WIDTH = 480;
const DEFAULT_HEIGHT = 720;
const DEFAULT_TITLE = "Ronin Waypoint";
const HASHED_PARAMS = [
    "data"
];
const buildUrlWithQuery = (inputUrl, query)=>{
    const url = new URL(inputUrl);
    if (!query) return url;
    Object.entries(query).forEach(([key, value])=>{
        if (value === null || value === undefined) return;
        if (HASHED_PARAMS.includes(key)) {
            url.hash = `${key}=${encodeURIComponent(typeof value === "object" ? JSON.stringify(value) : value.toString())}`;
            return;
        }
        url.searchParams.set(key, value.toString());
    });
    return url;
};
const openPopup = async (inputUrl, query, config)=>{
    if (typeof window === "undefined" || !window.top) return Promise.reject(new Error("openPopup: window is not available"));
    const { width = DEFAULT_WIDTH, height = DEFAULT_HEIGHT } = config || {};
    const screenLeft = window.screenLeft ?? window.screenX;
    const screenTop = window.screenTop ?? window.screenY;
    const screenWidth = window.innerWidth;
    const screenHeight = window.innerHeight;
    const left = screenLeft + (screenWidth - width) / 2;
    const top = screenTop + (screenHeight - height) / 2;
    const url = buildUrlWithQuery(inputUrl, query);
    const tryOpenPopup = ()=>{
        const popup = window.open(url, DEFAULT_TITLE, `scrollbars=yes,width=${width},height=${height},top=${top},left=${left}`);
        popup?.focus();
        if (!popup) return null;
        return popup;
    };
    let popup = tryOpenPopup();
    if (!popup) {
        return new Promise((resolve, reject)=>{
            const snackbar = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$Snackbar$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Snackbar"].getInstance();
            snackbar.show({
                title: "Popup was blocked by the browser",
                message: "Click 'Retry' to attempt opening it again.",
                action: {
                    label: "Retry",
                    onClick: ()=>{
                        popup = tryOpenPopup();
                        if (popup) resolve(popup);
                        if (!popup) reject(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["b"](new Error("Popup window is BLOCKED by the browser")));
                    }
                },
                onClose: ()=>{
                    reject(new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["b"](new Error("Popup window is BLOCKED by the browser")));
                }
            });
        });
    }
    return Promise.resolve(popup);
};
const replaceUrl = (inputUrl, query)=>{
    const url = buildUrlWithQuery(inputUrl, query);
    window.location.assign(url);
};
;
}}),
"[project]/node_modules/@sky-mavis/waypoint/dist/module/common/scope.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "getDelegationScopesParams": (()=>getDelegationScopesParams),
    "getScopesParams": (()=>getScopesParams)
});
const getScopesParams = (scopes)=>scopes ? scopes.join(" ") : undefined;
const getDelegationScopesParams = (scopes)=>{
    const initialScopes = scopes?.includes("wallet") ? scopes : [
        ...scopes ?? [],
        "wallet"
    ];
    return getScopesParams(initialScopes);
};
;
}}),
"[project]/node_modules/@sky-mavis/waypoint/dist/module/common/version.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
// Generated by genversion.
__turbopack_context__.s({
    "name": (()=>name),
    "version": (()=>version)
});
const name = "@sky-mavis/waypoint";
const version = "4.1.5";
;
}}),
"[project]/node_modules/@sky-mavis/waypoint/dist/module/size-CssOTqqV.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "i": (()=>isHex),
    "s": (()=>size)
});
function isHex(value, { strict = true } = {}) {
    if (!value) return false;
    if (typeof value !== 'string') return false;
    return strict ? /^0x[0-9a-fA-F]*$/.test(value) : value.startsWith('0x');
}
/**
 * @description Retrieves the size of the value (in bytes).
 *
 * @param value The value (hex or byte array) to retrieve the size of.
 * @returns The size of the value (in bytes).
 */ function size(value) {
    if (isHex(value, {
        strict: false
    })) return Math.ceil((value.length - 2) / 2);
    return value.length;
}
;
}}),
"[project]/node_modules/@sky-mavis/waypoint/dist/module/toBytes-rCiiThej.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "S": (()=>SliceOffsetOutOfBoundsError),
    "a": (()=>hexToString),
    "b": (()=>bytesToHex),
    "c": (()=>hexToBytes),
    "d": (()=>stringToHex),
    "e": (()=>toBytes),
    "f": (()=>assertSize),
    "g": (()=>trim),
    "h": (()=>hexToNumber),
    "i": (()=>hexToBigInt),
    "j": (()=>numberToHex),
    "k": (()=>boolToHex),
    "n": (()=>numberToBytes),
    "p": (()=>padHex),
    "s": (()=>stringToBytes),
    "t": (()=>toHex)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$base$2d$CC$2d$Hj7CW$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/base-CC-Hj7CW.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$size$2d$CssOTqqV$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/size-CssOTqqV.js [app-ssr] (ecmascript)");
;
;
class SliceOffsetOutOfBoundsError extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$base$2d$CC$2d$Hj7CW$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["B"] {
    constructor({ offset, position, size }){
        super(`Slice ${position === 'start' ? 'starting' : 'ending'} at offset "${offset}" is out-of-bounds (size: ${size}).`, {
            name: 'SliceOffsetOutOfBoundsError'
        });
    }
}
class SizeExceedsPaddingSizeError extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$base$2d$CC$2d$Hj7CW$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["B"] {
    constructor({ size, targetSize, type }){
        super(`${type.charAt(0).toUpperCase()}${type.slice(1).toLowerCase()} size (${size}) exceeds padding size (${targetSize}).`, {
            name: 'SizeExceedsPaddingSizeError'
        });
    }
}
function pad(hexOrBytes, { dir, size = 32 } = {}) {
    if (typeof hexOrBytes === 'string') return padHex(hexOrBytes, {
        dir,
        size
    });
    return padBytes(hexOrBytes, {
        dir,
        size
    });
}
function padHex(hex_, { dir, size = 32 } = {}) {
    if (size === null) return hex_;
    const hex = hex_.replace('0x', '');
    if (hex.length > size * 2) throw new SizeExceedsPaddingSizeError({
        size: Math.ceil(hex.length / 2),
        targetSize: size,
        type: 'hex'
    });
    return `0x${hex[dir === 'right' ? 'padEnd' : 'padStart'](size * 2, '0')}`;
}
function padBytes(bytes, { dir, size = 32 } = {}) {
    if (size === null) return bytes;
    if (bytes.length > size) throw new SizeExceedsPaddingSizeError({
        size: bytes.length,
        targetSize: size,
        type: 'bytes'
    });
    const paddedBytes = new Uint8Array(size);
    for(let i = 0; i < size; i++){
        const padEnd = dir === 'right';
        paddedBytes[padEnd ? i : size - i - 1] = bytes[padEnd ? i : bytes.length - i - 1];
    }
    return paddedBytes;
}
class IntegerOutOfRangeError extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$base$2d$CC$2d$Hj7CW$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["B"] {
    constructor({ max, min, signed, size, value }){
        super(`Number "${value}" is not in safe ${size ? `${size * 8}-bit ${signed ? 'signed' : 'unsigned'} ` : ''}integer range ${max ? `(${min} to ${max})` : `(above ${min})`}`, {
            name: 'IntegerOutOfRangeError'
        });
    }
}
class SizeOverflowError extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$base$2d$CC$2d$Hj7CW$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["B"] {
    constructor({ givenSize, maxSize }){
        super(`Size cannot exceed ${maxSize} bytes. Given size: ${givenSize} bytes.`, {
            name: 'SizeOverflowError'
        });
    }
}
function trim(hexOrBytes, { dir = 'left' } = {}) {
    let data = typeof hexOrBytes === 'string' ? hexOrBytes.replace('0x', '') : hexOrBytes;
    let sliceLength = 0;
    for(let i = 0; i < data.length - 1; i++){
        if (data[dir === 'left' ? i : data.length - i - 1].toString() === '0') sliceLength++;
        else break;
    }
    data = dir === 'left' ? data.slice(sliceLength) : data.slice(0, data.length - sliceLength);
    if (typeof hexOrBytes === 'string') {
        if (data.length === 1 && dir === 'right') data = `${data}0`;
        return `0x${data.length % 2 === 1 ? `0${data}` : data}`;
    }
    return data;
}
function assertSize(hexOrBytes, { size: size$1 }) {
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$size$2d$CssOTqqV$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["s"])(hexOrBytes) > size$1) throw new SizeOverflowError({
        givenSize: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$size$2d$CssOTqqV$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["s"])(hexOrBytes),
        maxSize: size$1
    });
}
/**
 * Decodes a hex value into a bigint.
 *
 * - Docs: https://viem.sh/docs/utilities/fromHex#hextobigint
 *
 * @param hex Hex value to decode.
 * @param opts Options.
 * @returns BigInt value.
 *
 * @example
 * import { hexToBigInt } from 'viem'
 * const data = hexToBigInt('0x1a4', { signed: true })
 * // 420n
 *
 * @example
 * import { hexToBigInt } from 'viem'
 * const data = hexToBigInt('0x00000000000000000000000000000000000000000000000000000000000001a4', { size: 32 })
 * // 420n
 */ function hexToBigInt(hex, opts = {}) {
    const { signed } = opts;
    if (opts.size) assertSize(hex, {
        size: opts.size
    });
    const value = BigInt(hex);
    if (!signed) return value;
    const size = (hex.length - 2) / 2;
    const max = (1n << BigInt(size) * 8n - 1n) - 1n;
    if (value <= max) return value;
    return value - BigInt(`0x${'f'.padStart(size * 2, 'f')}`) - 1n;
}
/**
 * Decodes a hex string into a number.
 *
 * - Docs: https://viem.sh/docs/utilities/fromHex#hextonumber
 *
 * @param hex Hex value to decode.
 * @param opts Options.
 * @returns Number value.
 *
 * @example
 * import { hexToNumber } from 'viem'
 * const data = hexToNumber('0x1a4')
 * // 420
 *
 * @example
 * import { hexToNumber } from 'viem'
 * const data = hexToBigInt('0x00000000000000000000000000000000000000000000000000000000000001a4', { size: 32 })
 * // 420
 */ function hexToNumber(hex, opts = {}) {
    return Number(hexToBigInt(hex, opts));
}
/**
 * Decodes a hex value into a UTF-8 string.
 *
 * - Docs: https://viem.sh/docs/utilities/fromHex#hextostring
 *
 * @param hex Hex value to decode.
 * @param opts Options.
 * @returns String value.
 *
 * @example
 * import { hexToString } from 'viem'
 * const data = hexToString('0x48656c6c6f20576f726c6421')
 * // 'Hello world!'
 *
 * @example
 * import { hexToString } from 'viem'
 * const data = hexToString('0x48656c6c6f20576f726c64210000000000000000000000000000000000000000', {
 *  size: 32,
 * })
 * // 'Hello world'
 */ function hexToString(hex, opts = {}) {
    let bytes = hexToBytes(hex);
    if (opts.size) {
        assertSize(bytes, {
            size: opts.size
        });
        bytes = trim(bytes, {
            dir: 'right'
        });
    }
    return new TextDecoder().decode(bytes);
}
const hexes = /*#__PURE__*/ Array.from({
    length: 256
}, (_v, i)=>i.toString(16).padStart(2, '0'));
/**
 * Encodes a string, number, bigint, or ByteArray into a hex string
 *
 * - Docs: https://viem.sh/docs/utilities/toHex
 * - Example: https://viem.sh/docs/utilities/toHex#usage
 *
 * @param value Value to encode.
 * @param opts Options.
 * @returns Hex value.
 *
 * @example
 * import { toHex } from 'viem'
 * const data = toHex('Hello world')
 * // '0x48656c6c6f20776f726c6421'
 *
 * @example
 * import { toHex } from 'viem'
 * const data = toHex(420)
 * // '0x1a4'
 *
 * @example
 * import { toHex } from 'viem'
 * const data = toHex('Hello world', { size: 32 })
 * // '0x48656c6c6f20776f726c64210000000000000000000000000000000000000000'
 */ function toHex(value, opts = {}) {
    if (typeof value === 'number' || typeof value === 'bigint') return numberToHex(value, opts);
    if (typeof value === 'string') {
        return stringToHex(value, opts);
    }
    if (typeof value === 'boolean') return boolToHex(value, opts);
    return bytesToHex(value, opts);
}
/**
 * Encodes a boolean into a hex string
 *
 * - Docs: https://viem.sh/docs/utilities/toHex#booltohex
 *
 * @param value Value to encode.
 * @param opts Options.
 * @returns Hex value.
 *
 * @example
 * import { boolToHex } from 'viem'
 * const data = boolToHex(true)
 * // '0x1'
 *
 * @example
 * import { boolToHex } from 'viem'
 * const data = boolToHex(false)
 * // '0x0'
 *
 * @example
 * import { boolToHex } from 'viem'
 * const data = boolToHex(true, { size: 32 })
 * // '0x0000000000000000000000000000000000000000000000000000000000000001'
 */ function boolToHex(value, opts = {}) {
    const hex = `0x${Number(value)}`;
    if (typeof opts.size === 'number') {
        assertSize(hex, {
            size: opts.size
        });
        return pad(hex, {
            size: opts.size
        });
    }
    return hex;
}
/**
 * Encodes a bytes array into a hex string
 *
 * - Docs: https://viem.sh/docs/utilities/toHex#bytestohex
 *
 * @param value Value to encode.
 * @param opts Options.
 * @returns Hex value.
 *
 * @example
 * import { bytesToHex } from 'viem'
 * const data = bytesToHex(Uint8Array.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])
 * // '0x48656c6c6f20576f726c6421'
 *
 * @example
 * import { bytesToHex } from 'viem'
 * const data = bytesToHex(Uint8Array.from([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33]), { size: 32 })
 * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'
 */ function bytesToHex(value, opts = {}) {
    let string = '';
    for(let i = 0; i < value.length; i++){
        string += hexes[value[i]];
    }
    const hex = `0x${string}`;
    if (typeof opts.size === 'number') {
        assertSize(hex, {
            size: opts.size
        });
        return pad(hex, {
            dir: 'right',
            size: opts.size
        });
    }
    return hex;
}
/**
 * Encodes a number or bigint into a hex string
 *
 * - Docs: https://viem.sh/docs/utilities/toHex#numbertohex
 *
 * @param value Value to encode.
 * @param opts Options.
 * @returns Hex value.
 *
 * @example
 * import { numberToHex } from 'viem'
 * const data = numberToHex(420)
 * // '0x1a4'
 *
 * @example
 * import { numberToHex } from 'viem'
 * const data = numberToHex(420, { size: 32 })
 * // '0x00000000000000000000000000000000000000000000000000000000000001a4'
 */ function numberToHex(value_, opts = {}) {
    const { signed, size } = opts;
    const value = BigInt(value_);
    let maxValue;
    if (size) {
        if (signed) maxValue = (1n << BigInt(size) * 8n - 1n) - 1n;
        else maxValue = 2n ** (BigInt(size) * 8n) - 1n;
    } else if (typeof value_ === 'number') {
        maxValue = BigInt(Number.MAX_SAFE_INTEGER);
    }
    const minValue = typeof maxValue === 'bigint' && signed ? -maxValue - 1n : 0;
    if (maxValue && value > maxValue || value < minValue) {
        const suffix = typeof value_ === 'bigint' ? 'n' : '';
        throw new IntegerOutOfRangeError({
            max: maxValue ? `${maxValue}${suffix}` : undefined,
            min: `${minValue}${suffix}`,
            signed,
            size,
            value: `${value_}${suffix}`
        });
    }
    const hex = `0x${(signed && value < 0 ? (1n << BigInt(size * 8)) + BigInt(value) : value).toString(16)}`;
    if (size) return pad(hex, {
        size
    });
    return hex;
}
const encoder$1 = /*#__PURE__*/ new TextEncoder();
/**
 * Encodes a UTF-8 string into a hex string
 *
 * - Docs: https://viem.sh/docs/utilities/toHex#stringtohex
 *
 * @param value Value to encode.
 * @param opts Options.
 * @returns Hex value.
 *
 * @example
 * import { stringToHex } from 'viem'
 * const data = stringToHex('Hello World!')
 * // '0x48656c6c6f20576f726c6421'
 *
 * @example
 * import { stringToHex } from 'viem'
 * const data = stringToHex('Hello World!', { size: 32 })
 * // '0x48656c6c6f20576f726c64210000000000000000000000000000000000000000'
 */ function stringToHex(value_, opts = {}) {
    const value = encoder$1.encode(value_);
    return bytesToHex(value, opts);
}
const encoder = /*#__PURE__*/ new TextEncoder();
/**
 * Encodes a UTF-8 string, hex value, bigint, number or boolean to a byte array.
 *
 * - Docs: https://viem.sh/docs/utilities/toBytes
 * - Example: https://viem.sh/docs/utilities/toBytes#usage
 *
 * @param value Value to encode.
 * @param opts Options.
 * @returns Byte array value.
 *
 * @example
 * import { toBytes } from 'viem'
 * const data = toBytes('Hello world')
 * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])
 *
 * @example
 * import { toBytes } from 'viem'
 * const data = toBytes(420)
 * // Uint8Array([1, 164])
 *
 * @example
 * import { toBytes } from 'viem'
 * const data = toBytes(420, { size: 4 })
 * // Uint8Array([0, 0, 1, 164])
 */ function toBytes(value, opts = {}) {
    if (typeof value === 'number' || typeof value === 'bigint') return numberToBytes(value, opts);
    if (typeof value === 'boolean') return boolToBytes(value, opts);
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$size$2d$CssOTqqV$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["i"])(value)) return hexToBytes(value, opts);
    return stringToBytes(value, opts);
}
/**
 * Encodes a boolean into a byte array.
 *
 * - Docs: https://viem.sh/docs/utilities/toBytes#booltobytes
 *
 * @param value Boolean value to encode.
 * @param opts Options.
 * @returns Byte array value.
 *
 * @example
 * import { boolToBytes } from 'viem'
 * const data = boolToBytes(true)
 * // Uint8Array([1])
 *
 * @example
 * import { boolToBytes } from 'viem'
 * const data = boolToBytes(true, { size: 32 })
 * // Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1])
 */ function boolToBytes(value, opts = {}) {
    const bytes = new Uint8Array(1);
    bytes[0] = Number(value);
    if (typeof opts.size === 'number') {
        assertSize(bytes, {
            size: opts.size
        });
        return pad(bytes, {
            size: opts.size
        });
    }
    return bytes;
}
// We use very optimized technique to convert hex string to byte array
const charCodeMap = {
    zero: 48,
    nine: 57,
    A: 65,
    F: 70,
    a: 97,
    f: 102
};
function charCodeToBase16(char) {
    if (char >= charCodeMap.zero && char <= charCodeMap.nine) return char - charCodeMap.zero;
    if (char >= charCodeMap.A && char <= charCodeMap.F) return char - (charCodeMap.A - 10);
    if (char >= charCodeMap.a && char <= charCodeMap.f) return char - (charCodeMap.a - 10);
    return undefined;
}
/**
 * Encodes a hex string into a byte array.
 *
 * - Docs: https://viem.sh/docs/utilities/toBytes#hextobytes
 *
 * @param hex Hex string to encode.
 * @param opts Options.
 * @returns Byte array value.
 *
 * @example
 * import { hexToBytes } from 'viem'
 * const data = hexToBytes('0x48656c6c6f20776f726c6421')
 * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])
 *
 * @example
 * import { hexToBytes } from 'viem'
 * const data = hexToBytes('0x48656c6c6f20776f726c6421', { size: 32 })
 * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
 */ function hexToBytes(hex_, opts = {}) {
    let hex = hex_;
    if (opts.size) {
        assertSize(hex, {
            size: opts.size
        });
        hex = pad(hex, {
            dir: 'right',
            size: opts.size
        });
    }
    let hexString = hex.slice(2);
    if (hexString.length % 2) hexString = `0${hexString}`;
    const length = hexString.length / 2;
    const bytes = new Uint8Array(length);
    for(let index = 0, j = 0; index < length; index++){
        const nibbleLeft = charCodeToBase16(hexString.charCodeAt(j++));
        const nibbleRight = charCodeToBase16(hexString.charCodeAt(j++));
        if (nibbleLeft === undefined || nibbleRight === undefined) {
            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$base$2d$CC$2d$Hj7CW$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["B"](`Invalid byte sequence ("${hexString[j - 2]}${hexString[j - 1]}" in "${hexString}").`);
        }
        bytes[index] = nibbleLeft * 16 + nibbleRight;
    }
    return bytes;
}
/**
 * Encodes a number into a byte array.
 *
 * - Docs: https://viem.sh/docs/utilities/toBytes#numbertobytes
 *
 * @param value Number to encode.
 * @param opts Options.
 * @returns Byte array value.
 *
 * @example
 * import { numberToBytes } from 'viem'
 * const data = numberToBytes(420)
 * // Uint8Array([1, 164])
 *
 * @example
 * import { numberToBytes } from 'viem'
 * const data = numberToBytes(420, { size: 4 })
 * // Uint8Array([0, 0, 1, 164])
 */ function numberToBytes(value, opts) {
    const hex = numberToHex(value, opts);
    return hexToBytes(hex);
}
/**
 * Encodes a UTF-8 string into a byte array.
 *
 * - Docs: https://viem.sh/docs/utilities/toBytes#stringtobytes
 *
 * @param value String to encode.
 * @param opts Options.
 * @returns Byte array value.
 *
 * @example
 * import { stringToBytes } from 'viem'
 * const data = stringToBytes('Hello world!')
 * // Uint8Array([72, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100, 33])
 *
 * @example
 * import { stringToBytes } from 'viem'
 * const data = stringToBytes('Hello world!', { size: 32 })
 * // Uint8Array([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
 */ function stringToBytes(value, opts = {}) {
    const bytes = encoder.encode(value);
    if (typeof opts.size === 'number') {
        assertSize(bytes, {
            size: opts.size
        });
        return pad(bytes, {
            dir: 'right',
            size: opts.size
        });
    }
    return bytes;
}
;
}}),
"[project]/node_modules/@sky-mavis/waypoint/dist/module/utils-CKEBUnDS.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "H": (()=>Hash),
    "a": (()=>bytes),
    "b": (()=>byteSwap32),
    "c": (()=>createView),
    "d": (()=>concatBytes),
    "e": (()=>exists),
    "f": (()=>randomBytes),
    "h": (()=>hash),
    "i": (()=>isLE),
    "n": (()=>number),
    "o": (()=>output),
    "r": (()=>rotr),
    "t": (()=>toBytes),
    "u": (()=>u32),
    "w": (()=>wrapConstructor)
});
function number(n) {
    if (!Number.isSafeInteger(n) || n < 0) throw new Error(`positive integer expected, not ${n}`);
}
// copied from utils
function isBytes(a) {
    return a instanceof Uint8Array || a != null && typeof a === 'object' && a.constructor.name === 'Uint8Array';
}
function bytes(b, ...lengths) {
    if (!isBytes(b)) throw new Error('Uint8Array expected');
    if (lengths.length > 0 && !lengths.includes(b.length)) throw new Error(`Uint8Array expected of length ${lengths}, not of length=${b.length}`);
}
function hash(h) {
    if (typeof h !== 'function' || typeof h.create !== 'function') throw new Error('Hash should be wrapped by utils.wrapConstructor');
    number(h.outputLen);
    number(h.blockLen);
}
function exists(instance, checkFinished = true) {
    if (instance.destroyed) throw new Error('Hash instance has been destroyed');
    if (checkFinished && instance.finished) throw new Error('Hash#digest() has already been called');
}
function output(out, instance) {
    bytes(out);
    const min = instance.outputLen;
    if (out.length < min) {
        throw new Error(`digestInto() expects output buffer of length at least ${min}`);
    }
}
const crypto = typeof globalThis === 'object' && 'crypto' in globalThis ? globalThis.crypto : undefined;
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */ // We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.
// node.js versions earlier than v19 don't declare it in global scope.
// For node.js, package.json#exports field mapping rewrites import
// from `crypto` to `cryptoNode`, which imports native module.
// Makes the utils un-importable in browsers without a bundler.
// Once node.js 18 is deprecated (2025-04-30), we can just drop the import.
const u32 = (arr)=>new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));
// Cast array to view
const createView = (arr)=>new DataView(arr.buffer, arr.byteOffset, arr.byteLength);
// The rotate right (circular right shift) operation for uint32
const rotr = (word, shift)=>word << 32 - shift | word >>> shift;
const isLE = new Uint8Array(new Uint32Array([
    0x11223344
]).buffer)[0] === 0x44;
// The byte swap operation for uint32
const byteSwap = (word)=>word << 24 & 0xff000000 | word << 8 & 0xff0000 | word >>> 8 & 0xff00 | word >>> 24 & 0xff;
// In place byte swap for Uint32Array
function byteSwap32(arr) {
    for(let i = 0; i < arr.length; i++){
        arr[i] = byteSwap(arr[i]);
    }
}
/**
 * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])
 */ function utf8ToBytes(str) {
    if (typeof str !== 'string') throw new Error(`utf8ToBytes expected string, got ${typeof str}`);
    return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809
}
/**
 * Normalizes (non-hex) string or Uint8Array to Uint8Array.
 * Warning: when Uint8Array is passed, it would NOT get copied.
 * Keep in mind for future mutable operations.
 */ function toBytes(data) {
    if (typeof data === 'string') data = utf8ToBytes(data);
    bytes(data);
    return data;
}
/**
 * Copies several Uint8Arrays into one.
 */ function concatBytes(...arrays) {
    let sum = 0;
    for(let i = 0; i < arrays.length; i++){
        const a = arrays[i];
        bytes(a);
        sum += a.length;
    }
    const res = new Uint8Array(sum);
    for(let i = 0, pad = 0; i < arrays.length; i++){
        const a = arrays[i];
        res.set(a, pad);
        pad += a.length;
    }
    return res;
}
// For runtime check if class implements interface
class Hash {
    // Safe version that clones internal state
    clone() {
        return this._cloneInto();
    }
}
function wrapConstructor(hashCons) {
    const hashC = (msg)=>hashCons().update(toBytes(msg)).digest();
    const tmp = hashCons();
    hashC.outputLen = tmp.outputLen;
    hashC.blockLen = tmp.blockLen;
    hashC.create = ()=>hashCons();
    return hashC;
}
/**
 * Secure PRNG. Uses `crypto.getRandomValues`, which defers to OS.
 */ function randomBytes(bytesLength = 32) {
    if (crypto && typeof crypto.getRandomValues === 'function') {
        return crypto.getRandomValues(new Uint8Array(bytesLength));
    }
    // Legacy Node.js compatibility
    if (crypto && typeof crypto.randomBytes === 'function') {
        return crypto.randomBytes(bytesLength);
    }
    throw new Error('crypto.getRandomValues must be defined');
}
;
}}),
"[project]/node_modules/@sky-mavis/waypoint/dist/module/keccak256-B1CwQAsk.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "k": (()=>keccak256)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$utils$2d$CKEBUnDS$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/utils-CKEBUnDS.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$size$2d$CssOTqqV$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/size-CssOTqqV.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$toBytes$2d$rCiiThej$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/toBytes-rCiiThej.js [app-ssr] (ecmascript)");
;
;
;
const U32_MASK64 = /* @__PURE__ */ BigInt(2 ** 32 - 1);
const _32n = /* @__PURE__ */ BigInt(32);
// We are not using BigUint64Array, because they are extremely slow as per 2022
function fromBig(n, le = false) {
    if (le) return {
        h: Number(n & U32_MASK64),
        l: Number(n >> _32n & U32_MASK64)
    };
    return {
        h: Number(n >> _32n & U32_MASK64) | 0,
        l: Number(n & U32_MASK64) | 0
    };
}
function split(lst, le = false) {
    let Ah = new Uint32Array(lst.length);
    let Al = new Uint32Array(lst.length);
    for(let i = 0; i < lst.length; i++){
        const { h, l } = fromBig(lst[i], le);
        [Ah[i], Al[i]] = [
            h,
            l
        ];
    }
    return [
        Ah,
        Al
    ];
}
// Left rotate for Shift in [1, 32)
const rotlSH = (h, l, s)=>h << s | l >>> 32 - s;
const rotlSL = (h, l, s)=>l << s | h >>> 32 - s;
// Left rotate for Shift in (32, 64), NOTE: 32 is special case.
const rotlBH = (h, l, s)=>l << s - 32 | h >>> 64 - s;
const rotlBL = (h, l, s)=>h << s - 32 | l >>> 64 - s;
// SHA3 (keccak) is based on a new design: basically, the internal state is bigger than output size.
// It's called a sponge function.
// Various per round constants calculations
const SHA3_PI = [];
const SHA3_ROTL = [];
const _SHA3_IOTA = [];
const _0n = /* @__PURE__ */ BigInt(0);
const _1n = /* @__PURE__ */ BigInt(1);
const _2n = /* @__PURE__ */ BigInt(2);
const _7n = /* @__PURE__ */ BigInt(7);
const _256n = /* @__PURE__ */ BigInt(256);
const _0x71n = /* @__PURE__ */ BigInt(0x71);
for(let round = 0, R = _1n, x = 1, y = 0; round < 24; round++){
    // Pi
    [x, y] = [
        y,
        (2 * x + 3 * y) % 5
    ];
    SHA3_PI.push(2 * (5 * y + x));
    // Rotational
    SHA3_ROTL.push((round + 1) * (round + 2) / 2 % 64);
    // Iota
    let t = _0n;
    for(let j = 0; j < 7; j++){
        R = (R << _1n ^ (R >> _7n) * _0x71n) % _256n;
        if (R & _2n) t ^= _1n << (_1n << /* @__PURE__ */ BigInt(j)) - _1n;
    }
    _SHA3_IOTA.push(t);
}
const [SHA3_IOTA_H, SHA3_IOTA_L] = /* @__PURE__ */ split(_SHA3_IOTA, true);
// Left rotation (without 0, 32, 64)
const rotlH = (h, l, s)=>s > 32 ? rotlBH(h, l, s) : rotlSH(h, l, s);
const rotlL = (h, l, s)=>s > 32 ? rotlBL(h, l, s) : rotlSL(h, l, s);
// Same as keccakf1600, but allows to skip some rounds
function keccakP(s, rounds = 24) {
    const B = new Uint32Array(5 * 2);
    // NOTE: all indices are x2 since we store state as u32 instead of u64 (bigints to slow in js)
    for(let round = 24 - rounds; round < 24; round++){
        // Theta 
        for(let x = 0; x < 10; x++)B[x] = s[x] ^ s[x + 10] ^ s[x + 20] ^ s[x + 30] ^ s[x + 40];
        for(let x = 0; x < 10; x += 2){
            const idx1 = (x + 8) % 10;
            const idx0 = (x + 2) % 10;
            const B0 = B[idx0];
            const B1 = B[idx0 + 1];
            const Th = rotlH(B0, B1, 1) ^ B[idx1];
            const Tl = rotlL(B0, B1, 1) ^ B[idx1 + 1];
            for(let y = 0; y < 50; y += 10){
                s[x + y] ^= Th;
                s[x + y + 1] ^= Tl;
            }
        }
        // Rho () and Pi ()
        let curH = s[2];
        let curL = s[3];
        for(let t = 0; t < 24; t++){
            const shift = SHA3_ROTL[t];
            const Th = rotlH(curH, curL, shift);
            const Tl = rotlL(curH, curL, shift);
            const PI = SHA3_PI[t];
            curH = s[PI];
            curL = s[PI + 1];
            s[PI] = Th;
            s[PI + 1] = Tl;
        }
        // Chi ()
        for(let y = 0; y < 50; y += 10){
            for(let x = 0; x < 10; x++)B[x] = s[y + x];
            for(let x = 0; x < 10; x++)s[y + x] ^= ~B[(x + 2) % 10] & B[(x + 4) % 10];
        }
        // Iota ()
        s[0] ^= SHA3_IOTA_H[round];
        s[1] ^= SHA3_IOTA_L[round];
    }
    B.fill(0);
}
class Keccak extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$utils$2d$CKEBUnDS$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["H"] {
    // NOTE: we accept arguments in bytes instead of bits here.
    constructor(blockLen, suffix, outputLen, enableXOF = false, rounds = 24){
        super();
        this.blockLen = blockLen;
        this.suffix = suffix;
        this.outputLen = outputLen;
        this.enableXOF = enableXOF;
        this.rounds = rounds;
        this.pos = 0;
        this.posOut = 0;
        this.finished = false;
        this.destroyed = false;
        // Can be passed from user as dkLen
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$utils$2d$CKEBUnDS$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["n"])(outputLen);
        // 1600 = 5x5 matrix of 64bit.  1600 bits === 200 bytes
        if (0 >= this.blockLen || this.blockLen >= 200) throw new Error('Sha3 supports only keccak-f1600 function');
        this.state = new Uint8Array(200);
        this.state32 = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$utils$2d$CKEBUnDS$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["u"])(this.state);
    }
    keccak() {
        if (!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$utils$2d$CKEBUnDS$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["i"]) (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$utils$2d$CKEBUnDS$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["b"])(this.state32);
        keccakP(this.state32, this.rounds);
        if (!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$utils$2d$CKEBUnDS$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["i"]) (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$utils$2d$CKEBUnDS$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["b"])(this.state32);
        this.posOut = 0;
        this.pos = 0;
    }
    update(data) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$utils$2d$CKEBUnDS$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["e"])(this);
        const { blockLen, state } = this;
        data = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$utils$2d$CKEBUnDS$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["t"])(data);
        const len = data.length;
        for(let pos = 0; pos < len;){
            const take = Math.min(blockLen - this.pos, len - pos);
            for(let i = 0; i < take; i++)state[this.pos++] ^= data[pos++];
            if (this.pos === blockLen) this.keccak();
        }
        return this;
    }
    finish() {
        if (this.finished) return;
        this.finished = true;
        const { state, suffix, pos, blockLen } = this;
        // Do the padding
        state[pos] ^= suffix;
        if ((suffix & 0x80) !== 0 && pos === blockLen - 1) this.keccak();
        state[blockLen - 1] ^= 0x80;
        this.keccak();
    }
    writeInto(out) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$utils$2d$CKEBUnDS$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["e"])(this, false);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$utils$2d$CKEBUnDS$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["a"])(out);
        this.finish();
        const bufferOut = this.state;
        const { blockLen } = this;
        for(let pos = 0, len = out.length; pos < len;){
            if (this.posOut >= blockLen) this.keccak();
            const take = Math.min(blockLen - this.posOut, len - pos);
            out.set(bufferOut.subarray(this.posOut, this.posOut + take), pos);
            this.posOut += take;
            pos += take;
        }
        return out;
    }
    xofInto(out) {
        // Sha3/Keccak usage with XOF is probably mistake, only SHAKE instances can do XOF
        if (!this.enableXOF) throw new Error('XOF is not possible for this instance');
        return this.writeInto(out);
    }
    xof(bytes) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$utils$2d$CKEBUnDS$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["n"])(bytes);
        return this.xofInto(new Uint8Array(bytes));
    }
    digestInto(out) {
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$utils$2d$CKEBUnDS$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["o"])(out, this);
        if (this.finished) throw new Error('digest() was already called');
        this.writeInto(out);
        this.destroy();
        return out;
    }
    digest() {
        return this.digestInto(new Uint8Array(this.outputLen));
    }
    destroy() {
        this.destroyed = true;
        this.state.fill(0);
    }
    _cloneInto(to) {
        const { blockLen, suffix, outputLen, rounds, enableXOF } = this;
        to || (to = new Keccak(blockLen, suffix, outputLen, enableXOF, rounds));
        to.state32.set(this.state32);
        to.pos = this.pos;
        to.posOut = this.posOut;
        to.finished = this.finished;
        to.rounds = rounds;
        // Suffix can change in cSHAKE
        to.suffix = suffix;
        to.outputLen = outputLen;
        to.enableXOF = enableXOF;
        to.destroyed = this.destroyed;
        return to;
    }
}
const gen = (suffix, blockLen, outputLen)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$utils$2d$CKEBUnDS$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["w"])(()=>new Keccak(blockLen, suffix, outputLen));
/**
 * keccak-256 hash function. Different from SHA3-256.
 * @param message - that would be hashed
 */ const keccak_256 = /* @__PURE__ */ gen(0x01, 136, 256 / 8);
function keccak256(value, to_) {
    const to = to_ || 'hex';
    const bytes = keccak_256((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$size$2d$CssOTqqV$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["i"])(value, {
        strict: false
    }) ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$toBytes$2d$rCiiThej$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["e"])(value) : value);
    if (to === 'bytes') return bytes;
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$toBytes$2d$rCiiThej$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["t"])(bytes);
}
;
}}),
"[project]/node_modules/@sky-mavis/waypoint/dist/module/isAddress-BUhRlNtM.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "I": (()=>InvalidAddressError),
    "L": (()=>LruMap),
    "c": (()=>checksumAddress),
    "g": (()=>getAddress),
    "i": (()=>isAddress)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$base$2d$CC$2d$Hj7CW$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/base-CC-Hj7CW.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$toBytes$2d$rCiiThej$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/toBytes-rCiiThej.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$keccak256$2d$B1CwQAsk$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/keccak256-B1CwQAsk.js [app-ssr] (ecmascript)");
;
;
;
class InvalidAddressError extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$base$2d$CC$2d$Hj7CW$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["B"] {
    constructor({ address }){
        super(`Address "${address}" is invalid.`, {
            metaMessages: [
                '- Address must be a hex value of 20 bytes (40 hex characters).',
                '- Address must match its checksum counterpart.'
            ],
            name: 'InvalidAddressError'
        });
    }
}
/**
 * Map with a LRU (Least recently used) policy.
 *
 * @link https://en.wikipedia.org/wiki/Cache_replacement_policies#LRU
 */ class LruMap extends Map {
    constructor(size){
        super();
        Object.defineProperty(this, "maxSize", {
            enumerable: true,
            configurable: true,
            writable: true,
            value: void 0
        });
        this.maxSize = size;
    }
    get(key) {
        const value = super.get(key);
        if (super.has(key) && value !== undefined) {
            this.delete(key);
            super.set(key, value);
        }
        return value;
    }
    set(key, value) {
        super.set(key, value);
        if (this.maxSize && this.size > this.maxSize) {
            const firstKey = this.keys().next().value;
            if (firstKey) this.delete(firstKey);
        }
        return this;
    }
}
const checksumAddressCache = /*#__PURE__*/ new LruMap(8192);
function checksumAddress(address_, /**
 * Warning: EIP-1191 checksum addresses are generally not backwards compatible with the
 * wider Ethereum ecosystem, meaning it will break when validated against an application/tool
 * that relies on EIP-55 checksum encoding (checksum without chainId).
 *
 * It is highly recommended to not use this feature unless you
 * know what you are doing.
 *
 * See more: https://github.com/ethereum/EIPs/issues/1121
 */ chainId) {
    if (checksumAddressCache.has(`${address_}.${chainId}`)) return checksumAddressCache.get(`${address_}.${chainId}`);
    const hexAddress = chainId ? `${chainId}${address_.toLowerCase()}` : address_.substring(2).toLowerCase();
    const hash = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$keccak256$2d$B1CwQAsk$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["k"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$toBytes$2d$rCiiThej$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["s"])(hexAddress), 'bytes');
    const address = (chainId ? hexAddress.substring(`${chainId}0x`.length) : hexAddress).split('');
    for(let i = 0; i < 40; i += 2){
        if (hash[i >> 1] >> 4 >= 8 && address[i]) {
            address[i] = address[i].toUpperCase();
        }
        if ((hash[i >> 1] & 0x0f) >= 8 && address[i + 1]) {
            address[i + 1] = address[i + 1].toUpperCase();
        }
    }
    const result = `0x${address.join('')}`;
    checksumAddressCache.set(`${address_}.${chainId}`, result);
    return result;
}
function getAddress(address, /**
 * Warning: EIP-1191 checksum addresses are generally not backwards compatible with the
 * wider Ethereum ecosystem, meaning it will break when validated against an application/tool
 * that relies on EIP-55 checksum encoding (checksum without chainId).
 *
 * It is highly recommended to not use this feature unless you
 * know what you are doing.
 *
 * See more: https://github.com/ethereum/EIPs/issues/1121
 */ chainId) {
    if (!isAddress(address, {
        strict: false
    })) throw new InvalidAddressError({
        address
    });
    return checksumAddress(address, chainId);
}
const addressRegex = /^0x[a-fA-F0-9]{40}$/;
/** @internal */ const isAddressCache = /*#__PURE__*/ new LruMap(8192);
function isAddress(address, options) {
    const { strict = true } = options ?? {};
    const cacheKey = `${address}.${strict}`;
    if (isAddressCache.has(cacheKey)) return isAddressCache.get(cacheKey);
    const result = (()=>{
        if (!addressRegex.test(address)) return false;
        if (address.toLowerCase() === address) return true;
        if (strict) return checksumAddress(address) === address;
        return true;
    })();
    isAddressCache.set(cacheKey, result);
    return result;
}
;
}}),
"[project]/node_modules/@sky-mavis/waypoint/dist/module/isAddressEqual-CF4ISrAH.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "i": (()=>isAddressEqual)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$isAddress$2d$BUhRlNtM$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/isAddress-BUhRlNtM.js [app-ssr] (ecmascript)");
;
function isAddressEqual(a, b) {
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$isAddress$2d$BUhRlNtM$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["i"])(a, {
        strict: false
    })) throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$isAddress$2d$BUhRlNtM$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["I"]({
        address: a
    });
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$isAddress$2d$BUhRlNtM$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["i"])(b, {
        strict: false
    })) throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$isAddress$2d$BUhRlNtM$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["I"]({
        address: b
    });
    return a.toLowerCase() === b.toLowerCase();
}
;
}}),
"[project]/node_modules/@sky-mavis/waypoint/dist/module/web/core/personal-sign.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "personalSign": (()=>personalSign)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$popup$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/common/popup.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$isAddressEqual$2d$CF4ISrAH$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/isAddressEqual-CF4ISrAH.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/rpc-BGk0htDU.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$size$2d$CssOTqqV$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/size-CssOTqqV.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$toBytes$2d$rCiiThej$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/toBytes-rCiiThej.js [app-ssr] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
const personalSign = async ({ config, params, expectAddress, clientId, waypointOrigin, communicateHelper })=>{
    const [data, address] = params;
    if (address && expectAddress && !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$isAddressEqual$2d$CF4ISrAH$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["i"])(address, expectAddress)) {
        const err = new Error("personal_sign: current address is different from required address");
        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["U"](err);
    }
    // * Ronin Waypoint only accept raw string message - NOT hex
    const message = !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$size$2d$CssOTqqV$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["i"])(data) ? data : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$toBytes$2d$rCiiThej$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["a"])(data);
    if (!message) {
        const err = new Error("personal_sign: message is NOT define");
        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["I"](err);
    }
    const signature = await communicateHelper.sendRequest((state)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$popup$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["openPopup"])(`${waypointOrigin}/wallet/sign`, {
            state,
            clientId,
            origin: window.location.origin,
            expectAddress,
            message,
            ...config
        }));
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$size$2d$CssOTqqV$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["i"])(signature)) {
        const err = new Error("personal_sign: signature is not valid");
        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["a"](err);
    }
    return signature;
};
;
}}),
"[project]/node_modules/@sky-mavis/waypoint/dist/module/web/core/send-tx.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "sendTransaction": (()=>sendTransaction)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$popup$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/common/popup.js [app-ssr] (ecmascript)");
;
;
;
;
const sendTransaction = async ({ config, params, chainId, expectAddress, clientId, waypointOrigin, communicateHelper })=>{
    const [transaction] = params;
    const txHash = await communicateHelper.sendRequest((state)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$popup$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["openPopup"])(`${waypointOrigin}/wallet/send`, {
            state,
            clientId,
            origin: window.location.origin,
            chainId,
            expectAddress,
            ...transaction,
            ...config
        }));
    return txHash;
};
;
}}),
"[project]/node_modules/@sky-mavis/waypoint/dist/module/web/core/sign-data.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "signTypedDataV4": (()=>signTypedDataV4)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$popup$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/common/popup.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/rpc-BGk0htDU.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$isAddressEqual$2d$CF4ISrAH$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/isAddressEqual-CF4ISrAH.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$size$2d$CssOTqqV$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/size-CssOTqqV.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$toBytes$2d$rCiiThej$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/toBytes-rCiiThej.js [app-ssr] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
const REQUIRED_PROPERTIES = [
    "types",
    "domain",
    "primaryType",
    "message"
];
const isValidTypedData = (typedData)=>REQUIRED_PROPERTIES.every((k)=>k in typedData);
const transformTypedData = (data, chainId)=>{
    let typedData;
    try {
        if (typeof data === "string") {
            typedData = JSON.parse(data);
        } else {
            typedData = data;
        }
    } catch (_err) {
        const parseError = new Error("eth_signTypedData_v4: could NOT parse typed data");
        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["I"](parseError);
    }
    if (!isValidTypedData(typedData)) {
        const err = new Error(`eth_signTypedData_v4: invalid typed data - required ${REQUIRED_PROPERTIES.join(", ")}`);
        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["I"](err);
    }
    const rawChainId = typedData.domain?.chainId;
    if (rawChainId === undefined) {
        const chainIdError = new Error(`eth_signTypedData_v4: chainId is NOT defined - expected ${chainId}`);
        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["I"](chainIdError);
    }
    const requestChainId = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$size$2d$CssOTqqV$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["i"])(rawChainId) ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$toBytes$2d$rCiiThej$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["h"])(rawChainId) : +rawChainId;
    if (chainId !== requestChainId) {
        const chainIdError = new Error(`eth_signTypedData_v4: chainId is NOT valid - expected ${chainId}`);
        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["I"](chainIdError);
    }
    return typedData;
};
const signTypedDataV4 = async ({ config, params, expectAddress, clientId, chainId, waypointOrigin, communicateHelper })=>{
    const [address, data] = params;
    if (!data) throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["I"](new Error("eth_signTypedData_v4: data is NOT define"));
    if (address && expectAddress && !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$isAddressEqual$2d$CF4ISrAH$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["i"])(address, expectAddress)) {
        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["U"](new Error("eth_signTypedData_v4: current address is different from required address"));
    }
    const typedData = transformTypedData(data, chainId);
    try {
        const signature = await communicateHelper.sendRequest((state)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$popup$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["openPopup"])(`${waypointOrigin}/wallet/sign`, {
                state,
                clientId,
                origin: window.location.origin,
                chainId,
                expectAddress,
                typedData: JSON.stringify(typedData),
                ...config
            }));
        if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$size$2d$CssOTqqV$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["i"])(signature)) {
            throw new Error("eth_signTypedData_v4: signature is not valid");
        }
        return signature;
    } catch (err) {
        if (err instanceof Error) {
            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["a"](err);
        }
        const unknownErr = new Error("eth_signTypedData_v4: unknown error");
        throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["a"](unknownErr);
    }
};
;
}}),
"[project]/node_modules/@sky-mavis/waypoint/dist/module/web/utils/storage.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "STORAGE_ADDRESS_KEY": (()=>STORAGE_ADDRESS_KEY),
    "STORAGE_PREFIX": (()=>STORAGE_PREFIX),
    "STORAGE_SHARD_TRANSFER_KEY": (()=>STORAGE_SHARD_TRANSFER_KEY),
    "getStorage": (()=>getStorage),
    "removeStorage": (()=>removeStorage),
    "setStorage": (()=>setStorage)
});
const STORAGE_ADDRESS_KEY = "ADDRESS";
const STORAGE_SHARD_TRANSFER_KEY = "SHARD_TRANSFER";
const STORAGE_PREFIX = "RONIN.WAYPOINT";
const isStorageAvailable = ()=>typeof window !== "undefined" && "localStorage" in window;
const getStorage = (name)=>isStorageAvailable() && localStorage.getItem(`${STORAGE_PREFIX}:${name}`);
const setStorage = (name, value)=>isStorageAvailable() && localStorage.setItem(`${STORAGE_PREFIX}:${name}`, value);
const removeStorage = (name)=>isStorageAvailable() && localStorage.removeItem(`${STORAGE_PREFIX}:${name}`);
;
}}),
"[project]/node_modules/@sky-mavis/waypoint/dist/module/web/utils/validate-address.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "validateIdAddress": (()=>validateIdAddress)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$isAddress$2d$BUhRlNtM$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/isAddress-BUhRlNtM.js [app-ssr] (ecmascript)");
;
;
;
;
;
;
const validateIdAddress = (responseAddress)=>{
    try {
        return responseAddress && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$isAddress$2d$BUhRlNtM$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["i"])(responseAddress) ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$isAddress$2d$BUhRlNtM$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["g"])(responseAddress) : undefined;
    } catch (error) {
        return undefined;
    }
};
;
}}),
"[project]/node_modules/@sky-mavis/waypoint/dist/module/http-CzuPfCha.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "c": (()=>createClient),
    "h": (()=>http)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/rpc-BGk0htDU.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$base$2d$CC$2d$Hj7CW$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/base-CC-Hj7CW.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$toBytes$2d$rCiiThej$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/toBytes-rCiiThej.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$keccak256$2d$B1CwQAsk$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/keccak256-B1CwQAsk.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$isAddress$2d$BUhRlNtM$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/isAddress-BUhRlNtM.js [app-ssr] (ecmascript)");
;
;
;
;
;
function parseAccount(account) {
    if (typeof account === 'string') return {
        address: account,
        type: 'json-rpc'
    };
    return account;
}
const schedulerCache = /*#__PURE__*/ new Map();
/** @internal */ function createBatchScheduler({ fn, id, shouldSplitBatch, wait = 0, sort }) {
    const exec = async ()=>{
        const scheduler = getScheduler();
        flush();
        const args = scheduler.map(({ args })=>args);
        if (args.length === 0) return;
        fn(args).then((data)=>{
            if (sort && Array.isArray(data)) data.sort(sort);
            for(let i = 0; i < scheduler.length; i++){
                const { pendingPromise } = scheduler[i];
                pendingPromise.resolve?.([
                    data[i],
                    data
                ]);
            }
        }).catch((err)=>{
            for(let i = 0; i < scheduler.length; i++){
                const { pendingPromise } = scheduler[i];
                pendingPromise.reject?.(err);
            }
        });
    };
    const flush = ()=>schedulerCache.delete(id);
    const getBatchedArgs = ()=>getScheduler().map(({ args })=>args);
    const getScheduler = ()=>schedulerCache.get(id) || [];
    const setScheduler = (item)=>schedulerCache.set(id, [
            ...getScheduler(),
            item
        ]);
    return {
        flush,
        async schedule (args) {
            const pendingPromise = {};
            const promise = new Promise((resolve, reject)=>{
                pendingPromise.resolve = resolve;
                pendingPromise.reject = reject;
            });
            const split = shouldSplitBatch?.([
                ...getBatchedArgs(),
                args
            ]);
            if (split) exec();
            const hasActiveScheduler = getScheduler().length > 0;
            if (hasActiveScheduler) {
                setScheduler({
                    args,
                    pendingPromise
                });
                return promise;
            }
            setScheduler({
                args,
                pendingPromise
            });
            setTimeout(exec, wait);
            return promise;
        }
    };
}
async function wait(time) {
    return new Promise((res)=>setTimeout(res, time));
}
const size = 256;
let index = size;
let buffer;
function uid(length = 11) {
    if (!buffer || index + length > size * 2) {
        buffer = '';
        index = 0;
        for(let i = 0; i < size; i++){
            buffer += (256 + Math.random() * 256 | 0).toString(16).substring(1);
        }
    }
    return buffer.substring(index, index++ + length);
}
function createClient(parameters) {
    const { batch, cacheTime = parameters.pollingInterval ?? 4_000, ccipRead, key = 'base', name = 'Base Client', pollingInterval = 4_000, type = 'base' } = parameters;
    const chain = parameters.chain;
    const account = parameters.account ? parseAccount(parameters.account) : undefined;
    const { config, request, value } = parameters.transport({
        chain,
        pollingInterval
    });
    const transport = {
        ...config,
        ...value
    };
    const client = {
        account,
        batch,
        cacheTime,
        ccipRead,
        chain,
        key,
        name,
        pollingInterval,
        request,
        transport,
        type,
        uid: uid()
    };
    function extend(base) {
        return (extendFn)=>{
            const extended = extendFn(base);
            for(const key in client)delete extended[key];
            const combined = {
                ...base,
                ...extended
            };
            return Object.assign(combined, {
                extend: extend(combined)
            });
        };
    }
    return Object.assign(client, {
        extend: extend(client)
    });
}
/** @internal */ const promiseCache = /*#__PURE__*/ new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$isAddress$2d$BUhRlNtM$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["L"](8192);
/** Deduplicates in-flight promises. */ function withDedupe(fn, { enabled = true, id }) {
    if (!enabled || !id) return fn();
    if (promiseCache.get(id)) return promiseCache.get(id);
    const promise = fn().finally(()=>promiseCache.delete(id));
    promiseCache.set(id, promise);
    return promise;
}
function withRetry(fn, { delay: delay_ = 100, retryCount = 2, shouldRetry = ()=>true } = {}) {
    return new Promise((resolve, reject)=>{
        const attemptRetry = async ({ count = 0 } = {})=>{
            const retry = async ({ error })=>{
                const delay = typeof delay_ === 'function' ? delay_({
                    count,
                    error
                }) : delay_;
                if (delay) await wait(delay);
                attemptRetry({
                    count: count + 1
                });
            };
            try {
                const data = await fn();
                resolve(data);
            } catch (err) {
                if (count < retryCount && await shouldRetry({
                    count,
                    error: err
                })) return retry({
                    error: err
                });
                reject(err);
            }
        };
        attemptRetry();
    });
}
function buildRequest(request, options = {}) {
    return async (args, overrideOptions = {})=>{
        const { dedupe = false, retryDelay = 150, retryCount = 3, uid } = {
            ...options,
            ...overrideOptions
        };
        const requestId = dedupe ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$keccak256$2d$B1CwQAsk$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["k"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$toBytes$2d$rCiiThej$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["d"])(`${uid}.${(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["s"])(args)}`)) : undefined;
        return withDedupe(()=>withRetry(async ()=>{
                try {
                    return await request(args);
                } catch (err_) {
                    const err = err_;
                    switch(err.code){
                        // -32700
                        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["i"].code:
                            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["i"](err);
                        // -32600
                        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["h"].code:
                            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["h"](err);
                        // -32601
                        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["g"].code:
                            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["g"](err, {
                                method: args.method
                            });
                        // -32602
                        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["I"].code:
                            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["I"](err);
                        // -32603
                        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["a"].code:
                            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["a"](err);
                        // -32000
                        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["f"].code:
                            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["f"](err);
                        // -32001
                        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["e"].code:
                            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["e"](err);
                        // -32002
                        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["R"].code:
                            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["R"](err);
                        // -32003
                        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["T"].code:
                            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["T"](err);
                        // -32004
                        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["M"].code:
                            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["M"](err, {
                                method: args.method
                            });
                        // -32005
                        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["L"].code:
                            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["L"](err);
                        // -32006
                        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["J"].code:
                            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["J"](err);
                        // 4001
                        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["b"].code:
                            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["b"](err);
                        // 4100
                        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["U"].code:
                            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["U"](err);
                        // 4200
                        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["d"].code:
                            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["d"](err);
                        // 4900
                        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["P"].code:
                            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["P"](err);
                        // 4901
                        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["C"].code:
                            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["C"](err);
                        // 4902
                        case __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["S"].code:
                            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["S"](err);
                        // CAIP-25: User Rejected Error
                        // https://docs.walletconnect.com/2.0/specs/clients/sign/error-codes#rejected-caip-25
                        case 5000:
                            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["b"](err);
                        default:
                            if (err_ instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$base$2d$CC$2d$Hj7CW$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["B"]) throw err_;
                            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["c"](err);
                    }
                }
            }, {
                delay: ({ count, error })=>{
                    // If we find a Retry-After header, let's retry after the given time.
                    if (error && error instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["H"]) {
                        const retryAfter = error?.headers?.get('Retry-After');
                        if (retryAfter?.match(/\d/)) return Number.parseInt(retryAfter) * 1000;
                    }
                    // Otherwise, let's retry with an exponential backoff.
                    return ~~(1 << count) * retryDelay;
                },
                retryCount,
                shouldRetry: ({ error })=>shouldRetry(error)
            }), {
            enabled: dedupe,
            id: requestId
        });
    };
}
/** @internal */ function shouldRetry(error) {
    if ('code' in error && typeof error.code === 'number') {
        if (error.code === -1) return true; // Unknown error
        if (error.code === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["L"].code) return true;
        if (error.code === __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["a"].code) return true;
        return false;
    }
    if (error instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["H"] && error.status) {
        // Forbidden
        if (error.status === 403) return true;
        // Request Timeout
        if (error.status === 408) return true;
        // Request Entity Too Large
        if (error.status === 413) return true;
        // Too Many Requests
        if (error.status === 429) return true;
        // Internal Server Error
        if (error.status === 500) return true;
        // Bad Gateway
        if (error.status === 502) return true;
        // Service Unavailable
        if (error.status === 503) return true;
        // Gateway Timeout
        if (error.status === 504) return true;
        return false;
    }
    return true;
}
/**
 * @description Creates an transport intended to be used with a client.
 */ function createTransport({ key, name, request, retryCount = 3, retryDelay = 150, timeout, type }, value) {
    const uid$1 = uid();
    return {
        config: {
            key,
            name,
            request,
            retryCount,
            retryDelay,
            timeout,
            type
        },
        request: buildRequest(request, {
            retryCount,
            retryDelay,
            uid: uid$1
        }),
        value
    };
}
class UrlRequiredError extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$base$2d$CC$2d$Hj7CW$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["B"] {
    constructor(){
        super('No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.', {
            docsPath: '/docs/clients/intro',
            name: 'UrlRequiredError'
        });
    }
}
function withTimeout(fn, { errorInstance = new Error('timed out'), timeout, signal }) {
    return new Promise((resolve, reject)=>{
        (async ()=>{
            let timeoutId;
            try {
                const controller = new AbortController();
                if (timeout > 0) {
                    timeoutId = setTimeout(()=>{
                        if (signal) {
                            controller.abort();
                        } else {
                            reject(errorInstance);
                        }
                    }, timeout); // need to cast because bun globals.d.ts overrides @types/node
                }
                resolve(await fn({
                    signal: controller?.signal || null
                }));
            } catch (err) {
                if (err?.name === 'AbortError') reject(errorInstance);
                reject(err);
            } finally{
                clearTimeout(timeoutId);
            }
        })();
    });
}
function createIdStore() {
    return {
        current: 0,
        take () {
            return this.current++;
        },
        reset () {
            this.current = 0;
        }
    };
}
const idCache = /*#__PURE__*/ createIdStore();
function getHttpRpcClient(url, options = {}) {
    return {
        async request (params) {
            const { body, onRequest = options.onRequest, onResponse = options.onResponse, timeout = options.timeout ?? 10_000 } = params;
            const fetchOptions = {
                ...options.fetchOptions ?? {},
                ...params.fetchOptions ?? {}
            };
            const { headers, method, signal: signal_ } = fetchOptions;
            try {
                const response = await withTimeout(async ({ signal })=>{
                    const init = {
                        ...fetchOptions,
                        body: Array.isArray(body) ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["s"])(body.map((body)=>({
                                jsonrpc: '2.0',
                                id: body.id ?? idCache.take(),
                                ...body
                            }))) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["s"])({
                            jsonrpc: '2.0',
                            id: body.id ?? idCache.take(),
                            ...body
                        }),
                        headers: {
                            'Content-Type': 'application/json',
                            ...headers
                        },
                        method: method || 'POST',
                        signal: signal_ || (timeout > 0 ? signal : null)
                    };
                    const request = new Request(url, init);
                    if (onRequest) await onRequest(request);
                    const response = await fetch(url, init);
                    return response;
                }, {
                    errorInstance: new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["j"]({
                        body,
                        url
                    }),
                    timeout,
                    signal: true
                });
                if (onResponse) await onResponse(response);
                let data;
                if (response.headers.get('Content-Type')?.startsWith('application/json')) data = await response.json();
                else {
                    data = await response.text();
                    try {
                        data = JSON.parse(data || '{}');
                    } catch (err) {
                        if (response.ok) throw err;
                        data = {
                            error: data
                        };
                    }
                }
                if (!response.ok) {
                    throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["H"]({
                        body,
                        details: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["s"])(data.error) || response.statusText,
                        headers: response.headers,
                        status: response.status,
                        url
                    });
                }
                return data;
            } catch (err) {
                if (err instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["H"]) throw err;
                if (err instanceof __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["j"]) throw err;
                throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["H"]({
                    body,
                    cause: err,
                    url
                });
            }
        }
    };
}
/**
 * @description Creates a HTTP transport that connects to a JSON-RPC API.
 */ function http(/** URL of the JSON-RPC API. Defaults to the chain's public RPC URL. */ url, config = {}) {
    const { batch, fetchOptions, key = 'http', name = 'HTTP JSON-RPC', onFetchRequest, onFetchResponse, retryDelay } = config;
    return ({ chain, retryCount: retryCount_, timeout: timeout_ })=>{
        const { batchSize = 1000, wait = 0 } = typeof batch === 'object' ? batch : {};
        const retryCount = config.retryCount ?? retryCount_;
        const timeout = timeout_ ?? config.timeout ?? 10_000;
        const url_ = url || chain?.rpcUrls.default.http[0];
        if (!url_) throw new UrlRequiredError();
        const rpcClient = getHttpRpcClient(url_, {
            fetchOptions,
            onRequest: onFetchRequest,
            onResponse: onFetchResponse,
            timeout
        });
        return createTransport({
            key,
            name,
            async request ({ method, params }) {
                const body = {
                    method,
                    params
                };
                const { schedule } = createBatchScheduler({
                    id: url_,
                    wait,
                    shouldSplitBatch (requests) {
                        return requests.length > batchSize;
                    },
                    fn: (body)=>rpcClient.request({
                            body
                        }),
                    sort: (a, b)=>a.id - b.id
                });
                const fn = async (body)=>batch ? schedule(body) : [
                        await rpcClient.request({
                            body
                        })
                    ];
                const [{ error, result }] = await fn(body);
                if (error) throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["k"]({
                    body,
                    error,
                    url: url_
                });
                return result;
            },
            retryCount,
            retryDelay,
            timeout,
            type: 'http'
        }, {
            fetchOptions,
            url: url_
        });
    };
}
;
}}),
"[project]/node_modules/@sky-mavis/waypoint/dist/module/web/provider.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "WaypointProvider": (()=>WaypointProvider)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$_polyfill$2d$node$2e$events$2d$BiZUWMRj$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/_polyfill-node.events-BiZUWMRj.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$chain$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/common/chain.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$communicate$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/common/communicate.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$eip1193$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/common/eip1193.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$gate$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/common/gate.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$popup$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/common/popup.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$scope$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/common/scope.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$version$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/common/version.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$web$2f$core$2f$personal$2d$sign$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/web/core/personal-sign.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$web$2f$core$2f$send$2d$tx$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/web/core/send-tx.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$web$2f$core$2f$sign$2d$data$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/web/core/sign-data.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$web$2f$utils$2f$storage$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/web/utils/storage.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$web$2f$utils$2f$validate$2d$address$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/web/utils/validate-address.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/rpc-BGk0htDU.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$http$2d$CzuPfCha$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/http-CzuPfCha.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$toBytes$2d$rCiiThej$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sky-mavis/waypoint/dist/module/toBytes-rCiiThej.js [app-ssr] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
/**
 * A JavaScript Ethereum Provider API for consistency across clients and applications.
 *
 * This provider is designed to easily integrate with Ronin Waypoint.
 *
 * Use `create` function to create a new instance."
import { EventEmitter } from "events"
import { A, ChainDisconnectedError, Client, createClient, EIP1193Parameters, http, ProviderDisconnectedError, toHex, UnauthorizedProviderError } from "viem
 *
 * @example
 * import { WaypointProvider } from "@sky-mavis/waypoint"
 *
 * const idWalletProvider = WaypointProvider.create({
 *  clientId: "YOUR_CLIENT_ID",
 *  chainId: ronin.chainId,
 * })
 */ class WaypointProvider extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$_polyfill$2d$node$2e$events$2d$BiZUWMRj$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["E"] {
    clientId;
    waypointOrigin;
    redirectUrl;
    scopes;
    chainId;
    address;
    viemClient;
    communicateHelper;
    config;
    constructor(options){
        super();
        const { clientId, chainId, scopes = [], waypointOrigin = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$gate$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["RONIN_WAYPOINT_ORIGIN_PROD"], redirectUrl = typeof window !== "undefined" ? window.location.origin : "", source, popupCloseDelay, theme } = options;
        this.clientId = clientId;
        this.waypointOrigin = waypointOrigin;
        this.redirectUrl = redirectUrl;
        this.chainId = chainId;
        this.scopes = this.addDefaultScopes(scopes);
        this.communicateHelper = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$communicate$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CommunicateHelper"](waypointOrigin);
        this.viemClient = this.createViemClient(chainId);
        this.config = {
            source: source ?? `${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$version$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["name"]}@${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$version$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["version"]}`,
            popupCloseDelay,
            theme
        };
    }
    createViemClient(chainId) {
        const chain = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$chain$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["VIEM_CHAIN_MAPPING"][chainId];
        if (!chain) {
            const err = new Error(`Chain ${chainId} is not supported.`);
            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["C"](err);
        }
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$http$2d$CzuPfCha$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["c"])({
            chain: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$chain$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["VIEM_CHAIN_MAPPING"][chainId],
            transport: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$http$2d$CzuPfCha$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["h"])()
        });
    }
    addDefaultScopes(scopes) {
        const newScopes = [
            ...scopes
        ];
        if (!newScopes.includes("openid")) {
            newScopes.push("openid");
        }
        if (!newScopes.includes("wallet")) {
            newScopes.push("wallet");
        }
        return newScopes;
    }
    /**
   * Creates a new WaypointProvider instance.
   *
   * @param options Options for WaypointProvider.
   *
   * @returns WaypointProvider instance.
   *
   * @example
   * import { WaypointProvider } from "@sky-mavis/waypoint"
   *
   * const idWalletProvider = WaypointProvider.create({
   *  clientId: "YOUR_CLIENT_ID",
   *  chainId: ronin.chainId,
   * })
   */ static create = (options)=>{
        return new WaypointProvider(options);
    };
    getIdAddress = ()=>{
        if (this.address) return this.address;
        const storedAddress = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$web$2f$utils$2f$storage$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getStorage"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$web$2f$utils$2f$storage$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["STORAGE_ADDRESS_KEY"]) || "";
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$web$2f$utils$2f$validate$2d$address$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["validateIdAddress"])(storedAddress);
    };
    getIdAddressOrConnect = async ()=>{
        const address = this.getIdAddress();
        if (address) return address;
        const result = await this.connect();
        return result.address;
    };
    /**
   * Connects to Ronin Waypoint provider and retrieves authorization data & user wallet address.
   *
   * @returns The access token and address.
   */ connect = async ()=>{
        const { waypointOrigin, clientId, redirectUrl, scopes, communicateHelper, chainId, config } = this;
        const authData = await communicateHelper.sendRequest((state)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$popup$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["openPopup"])(`${waypointOrigin}/client/${clientId}/authorize`, {
                state,
                redirect: redirectUrl,
                origin: window.location.origin,
                scope: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$scope$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getScopesParams"])(scopes),
                ...config
            }));
        return this.handleAuthData(authData, chainId);
    };
    createKeylessWallet = async ()=>{
        const { waypointOrigin, clientId, redirectUrl, communicateHelper, chainId, config } = this;
        const authData = await communicateHelper.sendRequest((state)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$popup$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["openPopup"])(`${waypointOrigin}/wallet/setup/introduce`, {
                state,
                clientId,
                redirect: redirectUrl,
                origin: window.location.origin,
                ...config
            }));
        return this.handleAuthData(authData, chainId);
    };
    handleAuthData = (authData, chainId)=>{
        const { id_token: token, address: rawAddress } = authData;
        const address = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$web$2f$utils$2f$validate$2d$address$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["validateIdAddress"])(rawAddress);
        if (!address) {
            const err = new Error("Ronin Waypoint do NOT return valid address");
            throw new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["U"](err);
        }
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$web$2f$utils$2f$storage$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["setStorage"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$web$2f$utils$2f$storage$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["STORAGE_ADDRESS_KEY"], address);
        this.address = address;
        const addresses = [
            address
        ];
        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$eip1193$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Eip1193EventName"].accountsChanged, addresses);
        this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$eip1193$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Eip1193EventName"].connect, {
            chainId
        });
        return {
            token,
            address
        };
    };
    /**
   * Disconnect from Ronin Waypoint provider and clear the cached address in localStorage.
   */ disconnect = ()=>{
        const shouldEmitDisconnectEvent = !!this.address;
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$web$2f$utils$2f$storage$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["removeStorage"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$web$2f$utils$2f$storage$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["STORAGE_ADDRESS_KEY"]);
        this.address = undefined;
        if (shouldEmitDisconnectEvent) {
            const err = new Error("The provider is disconnected from all chains.");
            const providerErr = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$rpc$2d$BGk0htDU$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["P"](err);
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$eip1193$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Eip1193EventName"].accountsChanged, []);
            this.emit(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$common$2f$eip1193$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Eip1193EventName"].disconnect, providerErr);
        }
    };
    /**
   * A JavaScript Ethereum Provider API for consistency across clients and applications.
   *
   * Makes an Ethereum RPC method call.
   *
   * https://eips.ethereum.org/EIPS/eip-1193
   */ request = async (args)=>{
        const { clientId, waypointOrigin, communicateHelper, chainId, viemClient, connect, getIdAddress, getIdAddressOrConnect, config } = this;
        const { method, params } = args;
        switch(method){
            case "eth_chainId":
                return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$toBytes$2d$rCiiThej$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["t"])(chainId);
            case "eth_accounts":
                {
                    const address = getIdAddress();
                    const result = address ? [
                        address
                    ] : [];
                    return result;
                }
            // * Ronin Waypoint is not like other providers, it need open popup to authorize & get address
            // * eth_requestAccounts should NOT get address from localStorage cache
            // * if user change address in Ronin Waypoint, it should get new address
            case "eth_requestAccounts":
                {
                    const { address: newAddress } = await connect();
                    return [
                        newAddress
                    ];
                }
            case "personal_sign":
                {
                    const expectAddress = await getIdAddressOrConnect();
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$web$2f$core$2f$personal$2d$sign$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["personalSign"])({
                        config,
                        params,
                        expectAddress,
                        clientId,
                        waypointOrigin,
                        communicateHelper
                    });
                }
            case "eth_signTypedData_v4":
                {
                    const expectAddress = await getIdAddressOrConnect();
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$web$2f$core$2f$sign$2d$data$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["signTypedDataV4"])({
                        config,
                        params,
                        chainId,
                        expectAddress,
                        clientId,
                        waypointOrigin,
                        communicateHelper
                    });
                }
            case "eth_sendTransaction":
                {
                    const expectAddress = await getIdAddressOrConnect();
                    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sky$2d$mavis$2f$waypoint$2f$dist$2f$module$2f$web$2f$core$2f$send$2d$tx$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["sendTransaction"])({
                        config,
                        params,
                        chainId,
                        expectAddress,
                        clientId,
                        waypointOrigin,
                        communicateHelper
                    });
                }
            default:
                {
                    return viemClient.request(args);
                }
        }
    };
}
;
}}),

};

//# sourceMappingURL=node_modules_%40sky-mavis_waypoint_dist_module_93a12321._.js.map